import{S as e,i as s,s as a,e as r,t,b as i,c as l,d as c,h as n,f as o,g as f,j as m,H as h,k as d,l as u,n as v,x as g,y as p,m as _,q as M,o as E,p as j,r as D,u as I,v as w}from"./client.5a9b078d.js";import{M as L}from"./MainTitle.c6604fef.js";import{_ as V}from"./lodash.fa187457.js";import{d as k}from"./dayjs.min.4c2554d3.js";import{f as Y,a as H}from"./format.f05e231e.js";const y={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim_lun_mar_mer_jeu_ven_sam".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"jan_fév_mar_avr_mai_juin_juil_aoû_sep_oct_nov_déc".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:e=>{return`${e}${1===e?"er":""}`}};function F(e,s,a){const r=e.slice();return r[5]=s[a],r}function b(e,s,a){const r=e.slice();return r[2]=s[a],r}function $(e){let s,a,h,v,p,_,M,E,j,D,I,w,L,V,k,H,y,F,b,$=e[5].duree+"",q=Y(e[5].artFr,e[5].titreFr)+"",x=e[5].realisateurs+"",T=e[5].annee+"";return{c(){s=r("li"),a=r("a"),h=r("div"),v=r("img"),M=i(),E=r("div"),j=t($),D=i(),I=r("div"),w=r("div"),L=t(q),V=i(),k=r("div"),H=t(x),y=t(", "),F=t(T),this.h()},l(e){s=l(e,"LI",{class:!0});var r=c(s);a=l(r,"A",{rel:!0,href:!0});var t=c(a);h=l(t,"DIV",{class:!0});var i=c(h);v=l(i,"IMG",{src:!0,alt:!0}),M=f(i),E=l(i,"DIV",{class:!0});var m=c(E);j=n(m,$),m.forEach(o),i.forEach(o),D=f(t),I=l(t,"DIV",{class:!0});var d=c(I);w=l(d,"DIV",{class:!0});var u=c(w);L=n(u,q),u.forEach(o),V=f(d),k=l(d,"DIV",{});var g=c(k);H=n(g,x),y=n(g,", "),F=n(g,T),g.forEach(o),d.forEach(o),t.forEach(o),r.forEach(o),this.h()},h(){v.src!==(p="https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/"+e[5].pk+"-1.jpg")&&m(v,"src",p),m(v,"alt",_=Y(e[5].artFr,e[5].titreFr)),m(E,"class","duree"),m(h,"class","img-container"),m(w,"class","titre"),m(I,"class","film-info"),m(a,"rel","prefetch"),m(a,"href",b="film/"+e[5].slug),m(s,"class","film")},m(e,r){d(e,s,r),u(s,a),u(a,h),u(h,v),u(h,M),u(h,E),u(E,j),u(a,D),u(a,I),u(I,w),u(w,L),u(I,V),u(I,k),u(k,H),u(k,y),u(k,F)},p(e,s){1&s&&v.src!==(p="https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/"+e[5].pk+"-1.jpg")&&m(v,"src",p),1&s&&_!==(_=Y(e[5].artFr,e[5].titreFr))&&m(v,"alt",_),1&s&&$!==($=e[5].duree+"")&&g(j,$),1&s&&q!==(q=Y(e[5].artFr,e[5].titreFr)+"")&&g(L,q),1&s&&x!==(x=e[5].realisateurs+"")&&g(H,x),1&s&&T!==(T=e[5].annee+"")&&g(F,T),1&s&&b!==(b="film/"+e[5].slug)&&m(a,"href",b)},d(e){e&&o(s)}}}function q(e){let s,a,h,v,_,M,E,j=e[2][0]+"",D=e[2][1].stub+"",I=e[2][2],w=[];for(let s=0;s<I.length;s+=1)w[s]=$(F(e,I,s));return{c(){s=r("h2"),a=t(j),h=i(),v=r("div"),_=i(),M=r("ul");for(let e=0;e<w.length;e+=1)w[e].c();E=i(),this.h()},l(e){s=l(e,"H2",{class:!0});var r=c(s);a=n(r,j),r.forEach(o),h=f(e),v=l(e,"DIV",{class:!0}),c(v).forEach(o),_=f(e),M=l(e,"UL",{class:!0});var t=c(M);for(let e=0;e<w.length;e+=1)w[e].l(t);E=f(t),t.forEach(o),this.h()},h(){m(s,"class","collection"),m(v,"class","stub"),m(M,"class","grid")},m(e,r){d(e,s,r),u(s,a),d(e,h,r),d(e,v,r),v.innerHTML=D,d(e,_,r),d(e,M,r);for(let e=0;e<w.length;e+=1)w[e].m(M,null);u(M,E)},p(e,s){if(1&s&&j!==(j=e[2][0]+"")&&g(a,j),1&s&&D!==(D=e[2][1].stub+"")&&(v.innerHTML=D),1&s){let a;for(I=e[2][2],a=0;a<I.length;a+=1){const r=F(e,I,a);w[a]?w[a].p(r,s):(w[a]=$(r),w[a].c(),w[a].m(M,E))}for(;a<w.length;a+=1)w[a].d(1);w.length=I.length}},d(e){e&&o(s),e&&o(h),e&&o(v),e&&o(_),e&&o(M),p(w,e)}}}function x(e){let s,a,g,y,F,$,x=!V.isUndefined(e[1]);const T=new L({});let S=x&&function(e){let s,a,g,p,_,M,E,j,D,I,w,L,V,y,F,b,$,q,x,T,S,A,U,C,G,N,P,O,R,z,B,J,K,Q,W,X,Z=k(e[1].datePublished).format("dddd D MMMM")+"",ee=Y(e[1].artFr,e[1].titreFr)+"",se=e[1].duree+"",ae=e[1].realisateurs+"",re=e[1].annee+"",te=H("<div>","</div>",e[1].adaptation)+"",ie=H("<div>Avec ",".</div>",e[1].interpretation)+"",le=H("<div>","</div>",e[1].synopsis)+"";return{c(){s=r("div"),a=r("div"),g=r("h2"),p=t("Le film du "),_=t(Z),M=i(),E=r("div"),j=r("div"),D=r("a"),I=r("img"),V=i(),y=r("div"),F=r("div"),b=t(ee),$=i(),q=r("div"),x=t(se),S=i(),A=r("div"),U=r("div"),C=t(ae),G=t(", "),N=t(re),P=i(),R=i(),B=i(),K=i(),Q=r("a"),W=t("Voir le film"),this.h()},l(e){s=l(e,"DIV",{class:!0});var r=c(s);a=l(r,"DIV",{class:!0});var t=c(a);g=l(t,"H2",{});var i=c(g);p=n(i,"Le film du "),_=n(i,Z),i.forEach(o),t.forEach(o),M=f(r),E=l(r,"DIV",{class:!0});var m=c(E);j=l(m,"DIV",{class:!0});var h=c(j);D=l(h,"A",{rel:!0,href:!0,class:!0});var d=c(D);I=l(d,"IMG",{src:!0,alt:!0}),V=f(d),y=l(d,"DIV",{class:!0});var u=c(y);F=l(u,"DIV",{});var v=c(F);b=n(v,ee),v.forEach(o),u.forEach(o),$=f(d),q=l(d,"DIV",{class:!0});var w=c(q);x=n(w,se),w.forEach(o),d.forEach(o),h.forEach(o),S=f(m),A=l(m,"DIV",{class:!0});var L=c(A);U=l(L,"DIV",{});var k=c(U);C=n(k,ae),G=n(k,", "),N=n(k,re),k.forEach(o),P=f(L),R=f(L),B=f(L),K=f(L),Q=l(L,"A",{class:!0,rel:!0,href:!0});var Y=c(Q);W=n(Y,"Voir le film"),Y.forEach(o),L.forEach(o),m.forEach(o),r.forEach(o),this.h()},h(){m(a,"class","pick-label"),I.src!==(w="https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/"+e[1].pk+"-1.jpg")&&m(I,"src",w),m(I,"alt",L=Y(e[1].artFr,e[1].titreFr)),m(y,"class","pick-title-container"),m(q,"class","duree"),m(D,"rel","prefetch"),m(D,"href",T="film/"+e[1].slug),m(D,"class","pick-img"),m(j,"class","pick-img-container"),O=new h(te,R),z=new h(ie,B),J=new h(le,K),m(Q,"class","more"),m(Q,"rel","prefetch"),m(Q,"href",X="film/"+e[1].slug),m(A,"class","pick-film-info"),m(E,"class","pick"),m(s,"class","pick-container")},m(e,r){d(e,s,r),u(s,a),u(a,g),u(g,p),u(g,_),u(s,M),u(s,E),u(E,j),u(j,D),u(D,I),u(D,V),u(D,y),u(y,F),u(F,b),u(D,$),u(D,q),u(q,x),u(E,S),u(E,A),u(A,U),u(U,C),u(U,G),u(U,N),u(A,P),O.m(A),u(A,R),z.m(A),u(A,B),J.m(A),u(A,K),u(A,Q),u(Q,W)},p:v,d(e){e&&o(s)}}}(e),A=e[0],U=[];for(let s=0;s<A.length;s+=1)U[s]=q(b(e,A,s));return{c(){s=i(),a=r("section"),g=r("div"),_(T.$$.fragment),y=i(),S&&S.c(),F=i();for(let e=0;e<U.length;e+=1)U[e].c();this.h()},l(e){M('[data-svelte="svelte-f0g9c"]',document.head).forEach(o),s=f(e),a=l(e,"SECTION",{});var r=c(a);g=l(r,"DIV",{class:!0});var t=c(g);E(T.$$.fragment,t),y=f(t),S&&S.l(t),F=f(t);for(let e=0;e<U.length;e+=1)U[e].l(t);t.forEach(o),r.forEach(o),this.h()},h(){document.title="\n    HENRI - Des films rares de la Cinémathèque française à voir en ligne\n  ",m(g,"class","container")},m(e,r){d(e,s,r),d(e,a,r),u(a,g),j(T,g,null),u(g,y),S&&S.m(g,null),u(g,F);for(let e=0;e<U.length;e+=1)U[e].m(g,null);$=!0},p(e,[s]){if(x&&S.p(e,s),1&s){let a;for(A=e[0],a=0;a<A.length;a+=1){const r=b(e,A,a);U[a]?U[a].p(r,s):(U[a]=q(r),U[a].c(),U[a].m(g,null))}for(;a<U.length;a+=1)U[a].d(1);U.length=A.length}},i(e){$||(D(T.$$.fragment,e),$=!0)},o(e){I(T.$$.fragment,e),$=!1},d(e){e&&o(s),e&&o(a),w(T),S&&S.d(),p(U,e)}}}async function T({params:e,query:s}){const a=await this.fetch("film.json"),r=await a.json();if(200===a.status)return{collections:r};this.error(a.status,r.message)}function S(e,s,a){k.locale("fr");let{collections:r}=s,t=V(r).map(e=>e[2]).flatten().find(e=>!V.isUndefined(e.isPick));return e.$set=(e=>{"collections"in e&&a(0,r=e.collections)}),[r,t]}k.locale(y,null,!0);export default class extends e{constructor(e){super(),s(this,e,S,x,a,{collections:0})}}export{T as preload};
