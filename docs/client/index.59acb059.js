import{S as e,i as r,s,e as t,t as a,a as i,c as l,b as n,d as c,f as o,g as h,h as d,j as f,k as u,l as m,m as p,n as v,o as g,q as E,p as F,r as D,u as I,v as M,w,H as b,x as V}from"./client.d4b493c2.js";import{l as k,d as y,f as T,a as A}from"./format.b34ddf96.js";import"./dayjs_custom_locale_fr.260e95ab.js";import{M as H}from"./MainTitle.b63cc8ec.js";function $(e,r,s){const t=e.slice();return t[5]=r[s],t}function j(e,r,s){const t=e.slice();return t[2]=r[s],t}function q(e,r,s){const t=e.slice();return t[1]=r[s],t}function L(e,r,s){const t=e.slice();return t[2]=r[s],t}function U(e){let r,s,v,g,E=e[2].name+"";return{c(){r=t("a"),s=a(E),v=i(),this.h()},l(e){r=l(e,"A",{href:!0});var t=n(r);s=c(t,E),v=o(t),t.forEach(h),this.h()},h(){d(r,"href",g="#"+e[2].slug),f(r,"archived",e[2].isArchived)},m(e,t){u(e,r,t),m(r,s),m(r,v)},p(e,t){1&t&&E!==(E=e[2].name+"")&&p(s,E),1&t&&g!==(g="#"+e[2].slug)&&d(r,"href",g),1&t&&f(r,"archived",e[2].isArchived)},d(e){e&&h(r)}}}function x(e){let r,s,f,g,E,F,D,I=1===e[1].length?"Le film":"Les films",M=y(e[1][0].datePublished).format("dddd D MMMM")+"",w=e[1],b=[];for(let r=0;r<w.length;r+=1)b[r]=C(q(e,w,r));return{c(){r=t("div"),s=t("div"),f=t("h2"),g=a(I),E=a("\r\n            du\r\n            "),F=a(M),D=i();for(let e=0;e<b.length;e+=1)b[e].c();this.h()},l(e){r=l(e,"DIV",{class:!0});var t=n(r);s=l(t,"DIV",{class:!0});var a=n(s);f=l(a,"H2",{});var i=n(f);g=c(i,I),E=c(i,"\r\n            du\r\n            "),F=c(i,M),i.forEach(h),a.forEach(h),D=o(t);for(let e=0;e<b.length;e+=1)b[e].l(t);t.forEach(h),this.h()},h(){d(s,"class","pick-label"),d(r,"class","pick-container")},m(e,t){u(e,r,t),m(r,s),m(s,f),m(f,g),m(f,E),m(f,F),m(r,D);for(let e=0;e<b.length;e+=1)b[e].m(r,null)},p(e,s){if(2&s&&I!==(I=1===e[1].length?"Le film":"Les films")&&p(g,I),2&s&&M!==(M=y(e[1][0].datePublished).format("dddd D MMMM")+"")&&p(F,M),2&s){let t;for(w=e[1],t=0;t<w.length;t+=1){const a=q(e,w,t);b[t]?b[t].p(a,s):(b[t]=C(a),b[t].c(),b[t].m(r,null))}for(;t<b.length;t+=1)b[t].d(1);b.length=w.length}},d(e){e&&h(r),v(b,e)}}}function C(e){let r,s,f,v,g,E,F,D,I,M,w,V,y,H,$,j,q,L,U,x,C,P,N,S,R,_,G,J,O,z,B,K,Q,W,X,Y=T(e[1].artFr,e[1].titreFr)+"",Z=A("<div class='sous-titre-fr'>","</div>",e[1].sousTitreFr)+"",ee=e[1].duree+"",re=e[1].realisateurs+"",se=e[1].annee+"",te=A("<div>","</div>",e[1].adaptation)+"",ae=A("<div>Avec ",".</div>",e[1].interpretation)+"",ie=A("<div>","</div>",e[1].shortSynopsis||e[1].synopsis)+"",le=A('<div class="rem">',"</div>",e[1].remarque)+"";return{c(){r=t("div"),s=t("div"),f=t("a"),v=t("img"),F=i(),D=t("div"),I=t("div"),w=i(),y=i(),H=t("div"),$=a(ee),q=i(),L=t("div"),U=t("div"),x=a(re),C=a(", "),P=a(se),N=i(),R=i(),G=i(),O=i(),B=i(),K=t("a"),Q=a("Voir le film"),X=i(),this.h()},l(e){r=l(e,"DIV",{class:!0});var t=n(r);s=l(t,"DIV",{class:!0});var a=n(s);f=l(a,"A",{rel:!0,href:!0,class:!0});var i=n(f);v=l(i,"IMG",{src:!0,alt:!0}),F=o(i),D=l(i,"DIV",{class:!0});var d=n(D);I=l(d,"DIV",{});var u=n(I);w=o(u),u.forEach(h),d.forEach(h),y=o(i),H=l(i,"DIV",{class:!0});var m=n(H);$=c(m,ee),m.forEach(h),i.forEach(h),a.forEach(h),q=o(t),L=l(t,"DIV",{class:!0});var p=n(L);U=l(p,"DIV",{});var g=n(U);x=c(g,re),C=c(g,", "),P=c(g,se),g.forEach(h),N=o(p),R=o(p),G=o(p),O=o(p),B=o(p),K=l(p,"A",{class:!0,rel:!0,href:!0});var E=n(K);Q=c(E,"Voir le film"),E.forEach(h),p.forEach(h),X=o(t),t.forEach(h),this.h()},h(){v.src!==(g=k.isUndefined(e[1].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${e[1].pk}-1.jpg`:""+e[1].thumb)&&d(v,"src",g),d(v,"alt",E=T(e[1].artFr,e[1].titreFr)),M=new b(w),V=new b(null),d(D,"class","pick-title-container"),d(H,"class","duree"),d(f,"rel","prefetch"),d(f,"href",j="film/"+e[1].slug+"/"),d(f,"class","pick-img"),d(s,"class","pick-img-container"),S=new b(R),_=new b(G),J=new b(O),z=new b(B),d(K,"class","more"),d(K,"rel","prefetch"),d(K,"href",W="film/"+e[1].slug+"/"),d(L,"class","pick-film-info"),d(r,"class","pick")},m(e,t){u(e,r,t),m(r,s),m(s,f),m(f,v),m(f,F),m(f,D),m(D,I),M.m(Y,I),m(I,w),V.m(Z,I),m(f,y),m(f,H),m(H,$),m(r,q),m(r,L),m(L,U),m(U,x),m(U,C),m(U,P),m(L,N),S.m(te,L),m(L,R),_.m(ae,L),m(L,G),J.m(ie,L),m(L,O),z.m(le,L),m(L,B),m(L,K),m(K,Q),m(r,X)},p(e,r){2&r&&v.src!==(g=k.isUndefined(e[1].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${e[1].pk}-1.jpg`:""+e[1].thumb)&&d(v,"src",g),2&r&&E!==(E=T(e[1].artFr,e[1].titreFr))&&d(v,"alt",E),2&r&&Y!==(Y=T(e[1].artFr,e[1].titreFr)+"")&&M.p(Y),2&r&&Z!==(Z=A("<div class='sous-titre-fr'>","</div>",e[1].sousTitreFr)+"")&&V.p(Z),2&r&&ee!==(ee=e[1].duree+"")&&p($,ee),2&r&&j!==(j="film/"+e[1].slug+"/")&&d(f,"href",j),2&r&&re!==(re=e[1].realisateurs+"")&&p(x,re),2&r&&se!==(se=e[1].annee+"")&&p(P,se),2&r&&te!==(te=A("<div>","</div>",e[1].adaptation)+"")&&S.p(te),2&r&&ae!==(ae=A("<div>Avec ",".</div>",e[1].interpretation)+"")&&_.p(ae),2&r&&ie!==(ie=A("<div>","</div>",e[1].shortSynopsis||e[1].synopsis)+"")&&J.p(ie),2&r&&le!==(le=A('<div class="rem">',"</div>",e[1].remarque)+"")&&z.p(le),2&r&&W!==(W="film/"+e[1].slug+"/")&&d(K,"href",W)},d(e){e&&h(r)}}}function P(e){let r,s=e[2].header.stub+"";return{c(){r=t("div"),this.h()},l(e){r=l(e,"DIV",{class:!0}),n(r).forEach(h),this.h()},h(){d(r,"class","stub"),f(r,"archived",e[2].isArchived)},m(e,t){u(e,r,t),r.innerHTML=s},p(e,t){1&t&&s!==(s=e[2].header.stub+"")&&(r.innerHTML=s),1&t&&f(r,"archived",e[2].isArchived)},d(e){e&&h(r)}}}function N(e){let r,s,i,o=y(e[5].dateUnpublished).format("D MMM")+"";return{c(){r=t("div"),s=a("Jusqu'au\r\n                      "),i=a(o),this.h()},l(e){r=l(e,"DIV",{class:!0});var t=n(r);s=c(t,"Jusqu'au\r\n                      "),i=c(t,o),t.forEach(h),this.h()},h(){d(r,"class","end")},m(e,t){u(e,r,t),m(r,s),m(r,i)},p(e,r){1&r&&o!==(o=y(e[5].dateUnpublished).format("D MMM")+"")&&p(i,o)},d(e){e&&h(r)}}}function S(e){let r,s;return{c(){r=t("div"),s=a("Film indisponible"),this.h()},l(e){r=l(e,"DIV",{class:!0});var t=n(r);s=c(t,"Film indisponible"),t.forEach(h),this.h()},h(){d(r,"class","end")},m(e,t){u(e,r,t),m(r,s)},p:V,d(e){e&&h(r)}}}function R(e){let r,s,v,g,E,F,D,I,M,w,b,V,k,y,H,$,j,q,L,U,x=e[5].duree+"",C=`${T(e[5].artFr,e[5].titreFr)}${A("string"==typeof e[5].sousTitreFr?e[5].sousTitreFr[0]===e[5].sousTitreFr[0].toUpperCase()?". ":" ":"","",e[5].sousTitreFr)}`,P=e[5].realisateurs+"",R=e[5].annee+"";function _(e,r){return 3===e[5].status?S:e[5].dateUnpublished?N:void 0}let G=_(e),J=G&&G(e);return{c(){r=t("li"),s=t("a"),v=t("div"),g=t("img"),D=i(),I=t("div"),M=a(x),w=i(),b=t("div"),V=t("div"),k=i(),y=t("div"),H=a(P),$=a(", "),j=a(R),q=i(),J&&J.c(),U=i(),this.h()},l(e){r=l(e,"LI",{class:!0});var t=n(r);s=l(t,"A",{rel:!0,href:!0});var a=n(s);v=l(a,"DIV",{class:!0});var i=n(v);g=l(i,"IMG",{loading:!0,src:!0,alt:!0}),D=o(i),I=l(i,"DIV",{class:!0});var d=n(I);M=c(d,x),d.forEach(h),i.forEach(h),w=o(a),b=l(a,"DIV",{class:!0});var f=n(b);V=l(f,"DIV",{class:!0}),n(V).forEach(h),k=o(f),y=l(f,"DIV",{});var u=n(y);H=c(u,P),$=c(u,", "),j=c(u,R),u.forEach(h),q=o(f),J&&J.l(f),f.forEach(h),a.forEach(h),U=o(t),t.forEach(h),this.h()},h(){d(g,"loading","lazy"),g.src!==(E=e[5].thumb)&&d(g,"src",E),d(g,"alt",F=T(e[5].artFr,e[5].titreFr)),d(I,"class","duree"),d(v,"class","img-container"),d(V,"class","titre"),d(b,"class","film-info"),d(s,"rel","prefetch"),d(s,"href",L="film/"+e[5].slug+"/"),d(r,"class","film"),f(r,"archived",e[5].isArchived),f(r,"ispick",e[5].isPick)},m(e,t){u(e,r,t),m(r,s),m(s,v),m(v,g),m(v,D),m(v,I),m(I,M),m(s,w),m(s,b),m(b,V),V.innerHTML=C,m(b,k),m(b,y),m(y,H),m(y,$),m(y,j),m(b,q),J&&J.m(b,null),m(r,U)},p(e,t){1&t&&g.src!==(E=e[5].thumb)&&d(g,"src",E),1&t&&F!==(F=T(e[5].artFr,e[5].titreFr))&&d(g,"alt",F),1&t&&x!==(x=e[5].duree+"")&&p(M,x),1&t&&C!==(C=`${T(e[5].artFr,e[5].titreFr)}${A("string"==typeof e[5].sousTitreFr?e[5].sousTitreFr[0]===e[5].sousTitreFr[0].toUpperCase()?". ":" ":"","",e[5].sousTitreFr)}`)&&(V.innerHTML=C),1&t&&P!==(P=e[5].realisateurs+"")&&p(H,P),1&t&&R!==(R=e[5].annee+"")&&p(j,R),G===(G=_(e))&&J?J.p(e,t):(J&&J.d(1),J=G&&G(e),J&&(J.c(),J.m(b,null))),1&t&&L!==(L="film/"+e[5].slug+"/")&&d(s,"href",L),1&t&&f(r,"archived",e[5].isArchived),1&t&&f(r,"ispick",e[5].isPick)},d(e){e&&h(r),J&&J.d()}}}function _(e){let r,s,g,E,F,D,I,M,w=e[2].name+"",b=e[2].header.stub&&P(e),V=e[2].films,k=[];for(let r=0;r<V.length;r+=1)k[r]=R($(e,V,r));return{c(){r=t("div"),s=t("h2"),g=a(w),F=i(),b&&b.c(),D=i(),I=t("ul");for(let e=0;e<k.length;e+=1)k[e].c();M=i(),this.h()},l(e){r=l(e,"DIV",{});var t=n(r);s=l(t,"H2",{class:!0,id:!0});var a=n(s);g=c(a,w),a.forEach(h),F=o(t),b&&b.l(t),D=o(t),I=l(t,"UL",{class:!0});var i=n(I);for(let e=0;e<k.length;e+=1)k[e].l(i);i.forEach(h),M=o(t),t.forEach(h),this.h()},h(){d(s,"class","collection"),d(s,"id",E=e[2].slug),f(s,"archived",e[2].isArchived),d(I,"class","grid")},m(e,t){u(e,r,t),m(r,s),m(s,g),m(r,F),b&&b.m(r,null),m(r,D),m(r,I);for(let e=0;e<k.length;e+=1)k[e].m(I,null);m(r,M)},p(e,t){if(1&t&&w!==(w=e[2].name+"")&&p(g,w),1&t&&E!==(E=e[2].slug)&&d(s,"id",E),1&t&&f(s,"archived",e[2].isArchived),e[2].header.stub?b?b.p(e,t):(b=P(e),b.c(),b.m(r,D)):b&&(b.d(1),b=null),1&t){let r;for(V=e[2].films,r=0;r<V.length;r+=1){const s=$(e,V,r);k[r]?k[r].p(s,t):(k[r]=R(s),k[r].c(),k[r].m(I,null))}for(;r<k.length;r+=1)k[r].d(1);k.length=V.length}},d(e){e&&h(r),b&&b.d(),v(k,e)}}}function G(e){let r,s,a,c,f,p,b,V,k,y,T,A,$,q;k=new H({});let C=e[0],P=[];for(let r=0;r<C.length;r+=1)P[r]=U(L(e,C,r));let N=e[1].length>0&&x(e),S=e[0],R=[];for(let r=0;r<S.length;r+=1)R[r]=_(j(e,S,r));return{c(){r=t("meta"),s=t("meta"),a=t("meta"),c=t("meta"),f=i(),p=t("section"),b=t("div"),V=t("h1"),g(k.$$.fragment),y=i(),T=t("div");for(let e=0;e<P.length;e+=1)P[e].c();A=i(),N&&N.c(),$=i();for(let e=0;e<R.length;e+=1)R[e].c();this.h()},l(e){const t=E('[data-svelte="svelte-2kporm"]',document.head);r=l(t,"META",{property:!0,content:!0}),s=l(t,"META",{property:!0,content:!0}),a=l(t,"META",{property:!0,content:!0}),c=l(t,"META",{property:!0,content:!0}),t.forEach(h),f=o(e),p=l(e,"SECTION",{});var i=n(p);b=l(i,"DIV",{class:!0});var d=n(b);V=l(d,"H1",{class:!0});var u=n(V);F(k.$$.fragment,u),u.forEach(h),y=o(d),T=l(d,"DIV",{class:!0});var m=n(T);for(let e=0;e<P.length;e+=1)P[e].l(m);m.forEach(h),A=o(d),N&&N.l(d),$=o(d);for(let e=0;e<R.length;e+=1)R[e].l(d);d.forEach(h),i.forEach(h),this.h()},h(){document.title="\r\n    HENRI : Des films rares de la Cinémathèque française à voir en ligne\r\n  ",d(r,"property","og:url"),d(r,"content","https://www.cinematheque.fr/henri/"),d(s,"property","og:title"),d(s,"content","HENRI - Des films rares de la Cinémathèque française à voir en\r\n    ligne"),d(a,"property","og:image"),d(a,"content","https://www.cinematheque.fr/henri/logo-918x480.jpg"),d(c,"property","og:description"),d(c,"content","HENRI, la plateforme VOD de la Cinémathèque française vous propose\r\n    de découvrir gratuitement en ligne des films rares issus de ses collections."),d(V,"class","svelte-14mm8il"),d(T,"class","collections-list"),d(b,"class","container")},m(e,t){m(document.head,r),m(document.head,s),m(document.head,a),m(document.head,c),u(e,f,t),u(e,p,t),m(p,b),m(b,V),D(k,V,null),m(b,y),m(b,T);for(let e=0;e<P.length;e+=1)P[e].m(T,null);m(b,A),N&&N.m(b,null),m(b,$);for(let e=0;e<R.length;e+=1)R[e].m(b,null);q=!0},p(e,[r]){if(1&r){let s;for(C=e[0],s=0;s<C.length;s+=1){const t=L(e,C,s);P[s]?P[s].p(t,r):(P[s]=U(t),P[s].c(),P[s].m(T,null))}for(;s<P.length;s+=1)P[s].d(1);P.length=C.length}if(e[1].length>0?N?N.p(e,r):(N=x(e),N.c(),N.m(b,$)):N&&(N.d(1),N=null),1&r){let s;for(S=e[0],s=0;s<S.length;s+=1){const t=j(e,S,s);R[s]?R[s].p(t,r):(R[s]=_(t),R[s].c(),R[s].m(b,null))}for(;s<R.length;s+=1)R[s].d(1);R.length=S.length}},i(e){q||(I(k.$$.fragment,e),q=!0)},o(e){M(k.$$.fragment,e),q=!1},d(e){h(r),h(s),h(a),h(c),e&&h(f),e&&h(p),w(k),v(P,e),N&&N.d(),v(R,e)}}}async function J({params:e,query:r}){let s=await this.fetch("collections-headers.json");if(200===s.status){s=await s.json();let e=k(s).map(e=>e.films).flatten().filter(e=>!e.isArchived&&e.isPick).orderBy(e=>e.order).map(e=>e.slug).value();return e=await Promise.all(k(e).map(async e=>{let r=await this.fetch(`film/${e}.json`);return r.status>=400?null:await r.json()}).value()),e=k.compact(e),{collectionsHeaders:s,pick:e}}this.error(res.status,data.message)}function O(e,r,s){y.locale("fr");let{collectionsHeaders:t}=r,{pick:a}=r;return e.$set=e=>{"collectionsHeaders"in e&&s(0,t=e.collectionsHeaders),"pick"in e&&s(1,a=e.pick)},[t,a]}export default class extends e{constructor(e){super(),r(this,e,O,G,s,{collectionsHeaders:0,pick:1})}}export{J as preload};
