import{S as t,i as e,s as i,e as s,c as r,d as a,f as n,j as l,k as c,l as o,t as d,h,y as u,o as m,b as p,g as f,H as v,m as g,q as w,n as k}from"./client.74a16078.js";import{f as F,a as E,_ as y,d as C}from"./format.a6af0c31.js";function I(t,e,i){const s=t.slice();return s[2]=e[i],s}function V(t){let e,i,d,h,u;return{c(){e=s("div"),i=s("div"),d=s("iframe"),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=r(s,"DIV",{class:!0});var l=a(i);d=r(l,"IFRAME",{title:!0,sandbox:!0,src:!0,frameborder:!0,allowfullscreen:!0}),a(d).forEach(n),l.forEach(n),s.forEach(n),this.h()},h(){l(d,"title",h=F(t[0].artFr,t[0].titreFr)),l(d,"sandbox","allow-same-origin allow-scripts allow-popups"),d.src!==(u="https://cinematheque.tube/videos/embed/"+t[0].videoId+"?title=0&warningTitle=0")&&l(d,"src",u),l(d,"frameborder","0"),d.allowFullscreen=!0,l(i,"class","video-container"),l(e,"class","video-wrapper")},m(t,s){c(t,e,s),o(e,i),o(i,d)},p(t,e){1&e&&h!==(h=F(t[0].artFr,t[0].titreFr))&&l(d,"title",h),1&e&&d.src!==(u="https://cinematheque.tube/videos/embed/"+t[0].videoId+"?title=0&warningTitle=0")&&l(d,"src",u)},d(t){t&&n(e)}}}function b(t){let e,i,p,f=C(t[0].dateUnpublished).format("dddd D MMM, HH[h]mm")+"";return{c(){e=s("div"),i=d("Film disponible jusqu'au "),p=d(f),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=h(s,"Film disponible jusqu'au "),p=h(s,f),s.forEach(n),this.h()},h(){l(e,"class","end"),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i),o(e,p)},p(t,i){1&i&&f!==(f=C(t[0].dateUnpublished).format("dddd D MMM, HH[h]mm")+"")&&m(p,f),1&i&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function q(t){let e,i,p=F(t[0].artVo,t[0].titreVo)+"";return{c(){e=s("div"),i=d(p),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=h(s,p),s.forEach(n),this.h()},h(){l(e,"class","titre-vo colored"),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i)},p(t,s){1&s&&p!==(p=F(t[0].artVo,t[0].titreVo)+"")&&m(i,p),1&s&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function M(t){let e,i,v,g=t[0].titreNx+"",w=t[0].titreVo&&P(t);return{c(){e=s("div"),i=d(g),v=p(),w&&w.c(),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=h(s,g),v=f(s),w&&w.l(s),s.forEach(n),this.h()},h(){l(e,"class","titre-vo colored"),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i),o(e,v),w&&w.m(e,null)},p(t,s){1&s&&g!==(g=t[0].titreNx+"")&&m(i,g),t[0].titreVo?w?w.p(t,s):((w=P(t)).c(),w.m(e,null)):w&&(w.d(1),w=null),1&s&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e),w&&w.d()}}}function P(t){let e,i,s,r=F(t[0].artVo,t[0].titreVo)+"";return{c(){e=d("["),i=d(r),s=d("]")},l(t){e=h(t,"["),i=h(t,r),s=h(t,"]")},m(t,r){c(t,e,r),c(t,i,r),c(t,s,r)},p(t,e){1&e&&r!==(r=F(t[0].artVo,t[0].titreVo)+"")&&m(i,r)},d(t){t&&n(e),t&&n(i),t&&n(s)}}}function T(t){let e,i;return{c(){e=s("img"),this.h()},l(t){e=r(t,"IMG",{height:!0,width:!0,src:!0,alt:!0,title:!0}),this.h()},h(){l(e,"height","12"),l(e,"width","12"),e.src!==(i="wheel.png")&&l(e,"src","wheel.png"),l(e,"alt","CC"),l(e,"title","Play the video then click on the settings wheel to select the\r\n            subtitles")},m(t,i){c(t,e,i)},d(t){t&&n(e)}}}function A(t){let e,i,l=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm),d=l&&$(t),h=t[0].links||[],u=[];for(let e=0;e<h.length;e+=1)u[e]=x(I(t,h,e));return{c(){e=s("div"),d&&d.c(),i=p();for(let t=0;t<u.length;t+=1)u[t].c()},l(t){e=r(t,"DIV",{});var s=a(e);d&&d.l(s),i=f(s);for(let t=0;t<u.length;t+=1)u[t].l(s);s.forEach(n)},m(t,s){c(t,e,s),d&&d.m(e,null),o(e,i);for(let t=0;t<u.length;t+=1)u[t].m(e,null)},p(t,s){if(1&s&&(l=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm)),l?d?d.p(t,s):((d=$(t)).c(),d.m(e,i)):d&&(d.d(1),d=null),1&s){let i;for(h=t[0].links||[],i=0;i<h.length;i+=1){const r=I(t,h,i);u[i]?u[i].p(r,s):(u[i]=x(r),u[i].c(),u[i].m(e,null))}for(;i<u.length;i+=1)u[i].d(1);u.length=h.length}},d(t){t&&n(e),d&&d.d(),g(u,t)}}}function $(t){let e,i,p,f,v,g=F(t[0].artFr,t[0].titreFr)+"";return{c(){e=s("a"),i=d("Plus de détails sur « "),p=d(g),f=d(" »\r\n              sur le Catalogue des restaurations et tirages de la Cinémathèque\r\n              française"),this.h()},l(t){e=r(t,"A",{class:!0,href:!0});var s=a(e);i=h(s,"Plus de détails sur « "),p=h(s,g),f=h(s," »\r\n              sur le Catalogue des restaurations et tirages de la Cinémathèque\r\n              française"),s.forEach(n),this.h()},h(){l(e,"class","catfilm colored"),l(e,"href",v="https://www.cinematheque.fr/catalogues/restaurations-tirages/film.php?id="+t[0].pk),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i),o(e,p),o(e,f)},p(t,i){1&i&&g!==(g=F(t[0].artFr,t[0].titreFr)+"")&&m(p,g),1&i&&v!==(v="https://www.cinematheque.fr/catalogues/restaurations-tirages/film.php?id="+t[0].pk)&&l(e,"href",v),1&i&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function x(t){let e,i,d,h,m=t[2].text+"";return{c(){e=s("a"),d=p(),this.h()},l(t){e=r(t,"A",{class:!0,href:!0});var i=a(e);d=f(i),i.forEach(n),this.h()},h(){i=new v(m,d),l(e,"class","catfilm colored"),l(e,"href",h=t[2].url),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),i.m(e),o(e,d)},p(t,s){1&s&&m!==(m=t[2].text+"")&&i.p(m),1&s&&h!==(h=t[2].url)&&l(e,"href",h),1&s&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function D(t){let e,i,g,C,I,P,$,x,D,j,H,U,N,L,R,S,G,O,z,B,J,K,Q,W,X,Y,Z,_,tt,et,it,st,rt,at,nt,lt,ct,ot,dt,ht,ut,mt,pt,ft,vt=`${F(t[0].artFr,t[0].titreFr)}${E('<div class="sous-titre-fr">',"</div>",t[0].sousTitreFr)}`+"",gt=t[0].realisateurs+"",wt=E(""," / ",t[0].pays)+"",kt=t[0].annee+"",Ft=t[0].duree+"",Et=E(" / ","",t[0].version)+"",yt=E("<div>","</div>",t[0].adaptation)+"",Ct=E("<div>Avec ",".</div>",t[0].interpretation)+"",It=E('<div class="rem">',"</div>",t[0].remarque)+"",Vt=E('<div class="synopsis">',"</div>",t[0].synopsis)+"",bt=E("<div>","</div>",t[0].restauration)+"",qt=E("<hr><div>","</div>",t[0].comment)+"",Mt=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm)||t[0].links;document.title=H="\r\n    "+F(t[0].artFr,t[0].titreFr)+" ("+t[0].realisateurs+", "+t[0].annee+") -\r\n    HENRI - La Cinémathèque française\r\n  ";let Pt=t[0].videoId&&V(t),Tt=t[0].dateUnpublished&&b(t);function At(t,e){return t[0].titreNx?M:t[0].titreVo?q:void 0}let $t=At(t),xt=$t&&$t(t),Dt=t[0].isCC&&T(),jt=Mt&&A(t);return{c(){e=s("meta"),i=s("meta"),C=s("meta"),P=s("meta"),x=s("meta"),D=s("meta"),j=s("meta"),U=p(),N=s("section"),L=s("div"),Pt&&Pt.c(),R=p(),S=s("article"),Tt&&Tt.c(),G=p(),O=s("div"),z=s("h1"),B=p(),xt&&xt.c(),J=p(),K=s("div"),Q=d(gt),W=p(),X=s("div"),Y=d(wt),Z=d(kt),_=d(" / "),tt=d(Ft),et=d(Et),it=p(),Dt&&Dt.c(),st=p(),at=p(),lt=p(),ot=p(),ht=p(),mt=p(),ft=p(),jt&&jt.c(),this.h()},l(t){const s=w('[data-svelte="svelte-ghaj6h"]',document.head);e=r(s,"META",{property:!0,content:!0}),i=r(s,"META",{property:!0,content:!0}),C=r(s,"META",{property:!0,content:!0}),P=r(s,"META",{property:!0,content:!0}),x=r(s,"META",{property:!0,content:!0}),D=r(s,"META",{property:!0,content:!0}),j=r(s,"META",{property:!0,content:!0}),s.forEach(n),U=f(t),N=r(t,"SECTION",{class:!0});var l=a(N);L=r(l,"DIV",{class:!0});var c=a(L);Pt&&Pt.l(c),R=f(c),S=r(c,"ARTICLE",{});var o=a(S);Tt&&Tt.l(o),G=f(o),O=r(o,"DIV",{class:!0});var d=a(O);z=r(d,"H1",{class:!0}),a(z).forEach(n),B=f(d),xt&&xt.l(d),d.forEach(n),J=f(o),K=r(o,"DIV",{class:!0});var u=a(K);Q=h(u,gt),u.forEach(n),W=f(o),X=r(o,"DIV",{});var m=a(X);Y=h(m,wt),Z=h(m,kt),_=h(m," / "),tt=h(m,Ft),et=h(m,Et),it=f(m),Dt&&Dt.l(m),m.forEach(n),st=f(o),at=f(o),lt=f(o),ot=f(o),ht=f(o),mt=f(o),ft=f(o),jt&&jt.l(o),o.forEach(n),c.forEach(n),l.forEach(n),this.h()},h(){l(e,"property","og:title"),l(e,"content",t[1]),l(i,"property","og:url"),l(i,"content",g="https://www.cinematheque.fr/henri/film/"+t[0].slug+"/"),l(C,"property","og:description"),l(C,"content",I=t[0].synopsis),l(P,"property","og:image"),l(P,"content",$=y.isUndefined(t[0].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${t[0].pk}-1.jpg`:`${t[0].thumb}`),l(x,"property","og:image:type"),l(x,"content","image/jpeg"),l(D,"property","og:image:width"),l(D,"content","533"),l(j,"property","og:image:height"),l(j,"content","400"),l(z,"class","colored"),u(z,"ispick",t[0].isPick),l(O,"class","titre-film"),l(K,"class","realisateurs"),rt=new v(yt,at),nt=new v(Ct,lt),ct=new v(It,ot),dt=new v(Vt,ht),ut=new v(bt,mt),pt=new v(qt,ft),l(L,"class","container"),l(N,"class","film-page")},m(t,s){o(document.head,e),o(document.head,i),o(document.head,C),o(document.head,P),o(document.head,x),o(document.head,D),o(document.head,j),c(t,U,s),c(t,N,s),o(N,L),Pt&&Pt.m(L,null),o(L,R),o(L,S),Tt&&Tt.m(S,null),o(S,G),o(S,O),o(O,z),z.innerHTML=vt,o(O,B),xt&&xt.m(O,null),o(S,J),o(S,K),o(K,Q),o(S,W),o(S,X),o(X,Y),o(X,Z),o(X,_),o(X,tt),o(X,et),o(X,it),Dt&&Dt.m(X,null),o(S,st),rt.m(S),o(S,at),nt.m(S),o(S,lt),ct.m(S),o(S,ot),dt.m(S),o(S,ht),ut.m(S),o(S,mt),pt.m(S),o(S,ft),jt&&jt.m(S,null)},p(t,[e]){1&e&&g!==(g="https://www.cinematheque.fr/henri/film/"+t[0].slug+"/")&&l(i,"content",g),1&e&&I!==(I=t[0].synopsis)&&l(C,"content",I),1&e&&$!==($=y.isUndefined(t[0].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${t[0].pk}-1.jpg`:`${t[0].thumb}`)&&l(P,"content",$),1&e&&H!==(H="\r\n    "+F(t[0].artFr,t[0].titreFr)+" ("+t[0].realisateurs+", "+t[0].annee+") -\r\n    HENRI - La Cinémathèque française\r\n  ")&&(document.title=H),t[0].videoId?Pt?Pt.p(t,e):((Pt=V(t)).c(),Pt.m(L,R)):Pt&&(Pt.d(1),Pt=null),t[0].dateUnpublished?Tt?Tt.p(t,e):((Tt=b(t)).c(),Tt.m(S,G)):Tt&&(Tt.d(1),Tt=null),1&e&&vt!==(vt=`${F(t[0].artFr,t[0].titreFr)}${E('<div class="sous-titre-fr">',"</div>",t[0].sousTitreFr)}`+"")&&(z.innerHTML=vt),1&e&&u(z,"ispick",t[0].isPick),$t===($t=At(t))&&xt?xt.p(t,e):(xt&&xt.d(1),(xt=$t&&$t(t))&&(xt.c(),xt.m(O,null))),1&e&&gt!==(gt=t[0].realisateurs+"")&&m(Q,gt),1&e&&wt!==(wt=E(""," / ",t[0].pays)+"")&&m(Y,wt),1&e&&kt!==(kt=t[0].annee+"")&&m(Z,kt),1&e&&Ft!==(Ft=t[0].duree+"")&&m(tt,Ft),1&e&&Et!==(Et=E(" / ","",t[0].version)+"")&&m(et,Et),t[0].isCC?Dt||((Dt=T()).c(),Dt.m(X,null)):Dt&&(Dt.d(1),Dt=null),1&e&&yt!==(yt=E("<div>","</div>",t[0].adaptation)+"")&&rt.p(yt),1&e&&Ct!==(Ct=E("<div>Avec ",".</div>",t[0].interpretation)+"")&&nt.p(Ct),1&e&&It!==(It=E('<div class="rem">',"</div>",t[0].remarque)+"")&&ct.p(It),1&e&&Vt!==(Vt=E('<div class="synopsis">',"</div>",t[0].synopsis)+"")&&dt.p(Vt),1&e&&bt!==(bt=E("<div>","</div>",t[0].restauration)+"")&&ut.p(bt),1&e&&qt!==(qt=E("<hr><div>","</div>",t[0].comment)+"")&&pt.p(qt),1&e&&(Mt=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm)||t[0].links),Mt?jt?jt.p(t,e):((jt=A(t)).c(),jt.m(S,null)):jt&&(jt.d(1),jt=null)},i:k,o:k,d(t){n(e),n(i),n(C),n(P),n(x),n(D),n(j),t&&n(U),t&&n(N),Pt&&Pt.d(),Tt&&Tt.d(),xt&&xt.d(),Dt&&Dt.d(),jt&&jt.d()}}}async function j({params:t,query:e}){const i=await this.fetch(`film/${t.slug}.json`),s=await i.json();if(200===i.status)return{film:s};this.error(i.status,s.message)}function H(t,e,i){C.locale("fr");let{film:s}=e;const r=`${F(s.artFr,s.titreFr)} (${s.realisateurs}, ${s.annee}) à voir en ligne sur HENRI, la plateforme de nos collections films`;return t.$set=(t=>{"film"in t&&i(0,s=t.film)}),[s,r]}export default class extends t{constructor(t){super(),e(this,t,H,D,i,{film:0})}}export{j as preload};
