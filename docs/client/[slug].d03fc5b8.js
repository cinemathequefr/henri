import{S as t,i as e,s as i,e as r,c as s,d as a,f as n,j as l,k as o,l as c,t as d,h as u,o as m,y as h,b as p,g as f,H as v,q as g,n as w,m as E}from"./client.62d4074a.js";import{f as F,a as k,_ as y,d as V}from"./format.a6af0c31.js";function b(t,e,i){const r=t.slice();return r[2]=e[i],r}function I(t){let e,i,d,u,m;return{c(){e=r("div"),i=r("div"),d=r("iframe"),this.h()},l(t){e=s(t,"DIV",{class:!0});var r=a(e);i=s(r,"DIV",{class:!0});var l=a(i);d=s(l,"IFRAME",{title:!0,sandbox:!0,src:!0,frameborder:!0,allowfullscreen:!0}),a(d).forEach(n),l.forEach(n),r.forEach(n),this.h()},h(){l(d,"title",u=F(t[0].artFr,t[0].titreFr)),l(d,"sandbox","allow-same-origin allow-scripts allow-popups"),d.src!==(m="https://cinematheque.tube/videos/embed/"+t[0].videoId+"?title=0&warningTitle=0")&&l(d,"src",m),l(d,"frameborder","0"),d.allowFullscreen=!0,l(i,"class","video-container"),l(e,"class","video-wrapper")},m(t,r){o(t,e,r),c(e,i),c(i,d)},p(t,e){1&e&&u!==(u=F(t[0].artFr,t[0].titreFr))&&l(d,"title",u),1&e&&d.src!==(m="https://cinematheque.tube/videos/embed/"+t[0].videoId+"?title=0&warningTitle=0")&&l(d,"src",m)},d(t){t&&n(e)}}}function q(t){let e,i,h,p=V(t[0].dateUnpublished).format("dddd D MMM, HH[h]mm")+"";return{c(){e=r("div"),i=d("Film disponible jusqu'au "),h=d(p),this.h()},l(t){e=s(t,"DIV",{class:!0});var r=a(e);i=u(r,"Film disponible jusqu'au "),h=u(r,p),r.forEach(n),this.h()},h(){l(e,"class","end")},m(t,r){o(t,e,r),c(e,i),c(e,h)},p(t,e){1&e&&p!==(p=V(t[0].dateUnpublished).format("dddd D MMM, HH[h]mm")+"")&&m(h,p)},d(t){t&&n(e)}}}function M(t){let e,i,p=F(t[0].artVo,t[0].titreVo)+"";return{c(){e=r("div"),i=d(p),this.h()},l(t){e=s(t,"DIV",{class:!0});var r=a(e);i=u(r,p),r.forEach(n),this.h()},h(){l(e,"class","titre-vo colored"),h(e,"ispick",t[0].isPick)},m(t,r){o(t,e,r),c(e,i)},p(t,r){1&r&&p!==(p=F(t[0].artVo,t[0].titreVo)+"")&&m(i,p),1&r&&h(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function T(t){let e,i,v,g=t[0].titreNx+"",w=t[0].titreVo&&A(t);return{c(){e=r("div"),i=d(g),v=p(),w&&w.c(),this.h()},l(t){e=s(t,"DIV",{class:!0});var r=a(e);i=u(r,g),v=f(r),w&&w.l(r),r.forEach(n),this.h()},h(){l(e,"class","titre-vo colored"),h(e,"ispick",t[0].isPick)},m(t,r){o(t,e,r),c(e,i),c(e,v),w&&w.m(e,null)},p(t,r){1&r&&g!==(g=t[0].titreNx+"")&&m(i,g),t[0].titreVo?w?w.p(t,r):((w=A(t)).c(),w.m(e,null)):w&&(w.d(1),w=null),1&r&&h(e,"ispick",t[0].isPick)},d(t){t&&n(e),w&&w.d()}}}function A(t){let e,i,r,s=F(t[0].artVo,t[0].titreVo)+"";return{c(){e=d("["),i=d(s),r=d("]")},l(t){e=u(t,"["),i=u(t,s),r=u(t,"]")},m(t,s){o(t,e,s),o(t,i,s),o(t,r,s)},p(t,e){1&e&&s!==(s=F(t[0].artVo,t[0].titreVo)+"")&&m(i,s)},d(t){t&&n(e),t&&n(i),t&&n(r)}}}function $(t){let e,i,p,f,v,g=F(t[0].artFr,t[0].titreFr)+"";return{c(){e=r("a"),i=d("Plus de détails sur « "),p=d(g),f=d(" »\r\n          sur le Catalogue des restaurations et tirages de la Cinémathèque\r\n          française"),this.h()},l(t){e=s(t,"A",{class:!0,href:!0});var r=a(e);i=u(r,"Plus de détails sur « "),p=u(r,g),f=u(r," »\r\n          sur le Catalogue des restaurations et tirages de la Cinémathèque\r\n          française"),r.forEach(n),this.h()},h(){l(e,"class","catfilm colored"),l(e,"href",v="https://www.cinematheque.fr/catalogues/restaurations-tirages/film.php?id="+t[0].pk),h(e,"ispick",t[0].isPick)},m(t,r){o(t,e,r),c(e,i),c(e,p),c(e,f)},p(t,i){1&i&&g!==(g=F(t[0].artFr,t[0].titreFr)+"")&&m(p,g),1&i&&v!==(v="https://www.cinematheque.fr/catalogues/restaurations-tirages/film.php?id="+t[0].pk)&&l(e,"href",v),1&i&&h(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function x(t){let e,i,d,u,m=t[2].text+"";return{c(){e=r("a"),d=p(),this.h()},l(t){e=s(t,"A",{class:!0,href:!0});var i=a(e);d=f(i),i.forEach(n),this.h()},h(){i=new v(m,d),l(e,"class","catfilm colored"),l(e,"href",u=t[2].url),h(e,"ispick",t[0].isPick)},m(t,r){o(t,e,r),i.m(e),c(e,d)},p(t,r){1&r&&m!==(m=t[2].text+"")&&i.p(m),1&r&&u!==(u=t[2].url)&&l(e,"href",u),1&r&&h(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function C(t){let e,i,V,A,C,P,j,D,H,U,N,L,R,S,O,z,B,G,J,K,Q,W,X,Y,Z,_,tt,et,it,rt,st,at,nt,lt,ot,ct,dt,ut,mt,ht,pt,ft,vt,gt,wt=`${F(t[0].artFr,t[0].titreFr)}${k('<div class="sous-titre-fr">',"</div>",t[0].sousTitreFr)}`+"",Et=t[0].realisateurs+"",Ft=k(""," / ",t[0].pays)+"",kt=t[0].annee+"",yt=t[0].duree+"",Vt=k(" / ","",t[0].version)+"",bt=k("<div>","</div>",t[0].adaptation)+"",It=k("<div>Avec ",".</div>",t[0].interpretation)+"",qt=k('<div class="rem">',"</div>",t[0].remarque)+"",Mt=k('<div class="synopsis">',"</div>",t[0].synopsis)+"",Tt=k("<div>","</div>",t[0].restauration)+"",At=k("<hr><div>","</div>",t[0].comment)+"",$t=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm);document.title=N="\r\n    "+F(t[0].artFr,t[0].titreFr)+" ("+t[0].realisateurs+", "+t[0].annee+") -\r\n    HENRI - La Cinémathèque française\r\n  ";let xt=t[0].videoId&&I(t),Ct=t[0].dateUnpublished&&q(t);function Pt(t,e){return t[0].titreNx?T:t[0].titreVo?M:void 0}let jt=Pt(t),Dt=jt&&jt(t),Ht=$t&&$(t),Ut=t[0].links||[],Nt=[];for(let e=0;e<Ut.length;e+=1)Nt[e]=x(b(t,Ut,e));return{c(){e=r("meta"),i=r("meta"),A=r("meta"),P=r("meta"),D=r("meta"),H=r("meta"),U=r("meta"),L=p(),R=r("section"),S=r("div"),xt&&xt.c(),O=p(),z=r("article"),Ct&&Ct.c(),B=p(),G=r("div"),J=r("h1"),K=p(),Dt&&Dt.c(),Q=p(),W=r("div"),X=d(Et),Y=p(),Z=r("div"),_=d(Ft),tt=d(kt),et=d(" / "),it=d(yt),rt=d(Vt),st=p(),nt=p(),ot=p(),dt=p(),mt=p(),pt=p(),vt=p(),Ht&&Ht.c(),gt=p();for(let t=0;t<Nt.length;t+=1)Nt[t].c();this.h()},l(t){const r=g('[data-svelte="svelte-ghaj6h"]',document.head);e=s(r,"META",{property:!0,content:!0}),i=s(r,"META",{property:!0,content:!0}),A=s(r,"META",{property:!0,content:!0}),P=s(r,"META",{property:!0,content:!0}),D=s(r,"META",{property:!0,content:!0}),H=s(r,"META",{property:!0,content:!0}),U=s(r,"META",{property:!0,content:!0}),r.forEach(n),L=f(t),R=s(t,"SECTION",{class:!0});var l=a(R);S=s(l,"DIV",{class:!0});var o=a(S);xt&&xt.l(o),O=f(o),z=s(o,"ARTICLE",{});var c=a(z);Ct&&Ct.l(c),B=f(c),G=s(c,"DIV",{class:!0});var d=a(G);J=s(d,"H1",{class:!0}),a(J).forEach(n),K=f(d),Dt&&Dt.l(d),d.forEach(n),Q=f(c),W=s(c,"DIV",{class:!0});var m=a(W);X=u(m,Et),m.forEach(n),Y=f(c),Z=s(c,"DIV",{});var h=a(Z);_=u(h,Ft),tt=u(h,kt),et=u(h," / "),it=u(h,yt),rt=u(h,Vt),h.forEach(n),st=f(c),nt=f(c),ot=f(c),dt=f(c),mt=f(c),pt=f(c),vt=f(c),Ht&&Ht.l(c),gt=f(c);for(let t=0;t<Nt.length;t+=1)Nt[t].l(c);c.forEach(n),o.forEach(n),l.forEach(n),this.h()},h(){l(e,"property","og:title"),l(e,"content",t[1]),l(i,"property","og:url"),l(i,"content",V="https://www.cinematheque.fr/henri/film/"+t[0].slug+"/"),l(A,"property","og:description"),l(A,"content",C=t[0].synopsis),l(P,"property","og:image"),l(P,"content",j=y.isUndefined(t[0].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${t[0].pk}-1.jpg`:`${t[0].thumb}`),l(D,"property","og:image:type"),l(D,"content","image/jpeg"),l(H,"property","og:image:width"),l(H,"content","533"),l(U,"property","og:image:height"),l(U,"content","400"),l(J,"class","colored"),h(J,"ispick",t[0].isPick),l(G,"class","titre-film"),l(W,"class","realisateurs"),at=new v(bt,nt),lt=new v(It,ot),ct=new v(qt,dt),ut=new v(Mt,mt),ht=new v(Tt,pt),ft=new v(At,vt),l(S,"class","container"),l(R,"class","film-page")},m(t,r){c(document.head,e),c(document.head,i),c(document.head,A),c(document.head,P),c(document.head,D),c(document.head,H),c(document.head,U),o(t,L,r),o(t,R,r),c(R,S),xt&&xt.m(S,null),c(S,O),c(S,z),Ct&&Ct.m(z,null),c(z,B),c(z,G),c(G,J),J.innerHTML=wt,c(G,K),Dt&&Dt.m(G,null),c(z,Q),c(z,W),c(W,X),c(z,Y),c(z,Z),c(Z,_),c(Z,tt),c(Z,et),c(Z,it),c(Z,rt),c(z,st),at.m(z),c(z,nt),lt.m(z),c(z,ot),ct.m(z),c(z,dt),ut.m(z),c(z,mt),ht.m(z),c(z,pt),ft.m(z),c(z,vt),Ht&&Ht.m(z,null),c(z,gt);for(let t=0;t<Nt.length;t+=1)Nt[t].m(z,null)},p(t,[e]){if(1&e&&V!==(V="https://www.cinematheque.fr/henri/film/"+t[0].slug+"/")&&l(i,"content",V),1&e&&C!==(C=t[0].synopsis)&&l(A,"content",C),1&e&&j!==(j=y.isUndefined(t[0].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${t[0].pk}-1.jpg`:`${t[0].thumb}`)&&l(P,"content",j),1&e&&N!==(N="\r\n    "+F(t[0].artFr,t[0].titreFr)+" ("+t[0].realisateurs+", "+t[0].annee+") -\r\n    HENRI - La Cinémathèque française\r\n  ")&&(document.title=N),t[0].videoId?xt?xt.p(t,e):((xt=I(t)).c(),xt.m(S,O)):xt&&(xt.d(1),xt=null),t[0].dateUnpublished?Ct?Ct.p(t,e):((Ct=q(t)).c(),Ct.m(z,B)):Ct&&(Ct.d(1),Ct=null),1&e&&wt!==(wt=`${F(t[0].artFr,t[0].titreFr)}${k('<div class="sous-titre-fr">',"</div>",t[0].sousTitreFr)}`+"")&&(J.innerHTML=wt),1&e&&h(J,"ispick",t[0].isPick),jt===(jt=Pt(t))&&Dt?Dt.p(t,e):(Dt&&Dt.d(1),(Dt=jt&&jt(t))&&(Dt.c(),Dt.m(G,null))),1&e&&Et!==(Et=t[0].realisateurs+"")&&m(X,Et),1&e&&Ft!==(Ft=k(""," / ",t[0].pays)+"")&&m(_,Ft),1&e&&kt!==(kt=t[0].annee+"")&&m(tt,kt),1&e&&yt!==(yt=t[0].duree+"")&&m(it,yt),1&e&&Vt!==(Vt=k(" / ","",t[0].version)+"")&&m(rt,Vt),1&e&&bt!==(bt=k("<div>","</div>",t[0].adaptation)+"")&&at.p(bt),1&e&&It!==(It=k("<div>Avec ",".</div>",t[0].interpretation)+"")&&lt.p(It),1&e&&qt!==(qt=k('<div class="rem">',"</div>",t[0].remarque)+"")&&ct.p(qt),1&e&&Mt!==(Mt=k('<div class="synopsis">',"</div>",t[0].synopsis)+"")&&ut.p(Mt),1&e&&Tt!==(Tt=k("<div>","</div>",t[0].restauration)+"")&&ht.p(Tt),1&e&&At!==(At=k("<hr><div>","</div>",t[0].comment)+"")&&ft.p(At),1&e&&($t=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm)),$t?Ht?Ht.p(t,e):((Ht=$(t)).c(),Ht.m(z,gt)):Ht&&(Ht.d(1),Ht=null),1&e){let i;for(Ut=t[0].links||[],i=0;i<Ut.length;i+=1){const r=b(t,Ut,i);Nt[i]?Nt[i].p(r,e):(Nt[i]=x(r),Nt[i].c(),Nt[i].m(z,null))}for(;i<Nt.length;i+=1)Nt[i].d(1);Nt.length=Ut.length}},i:w,o:w,d(t){n(e),n(i),n(A),n(P),n(D),n(H),n(U),t&&n(L),t&&n(R),xt&&xt.d(),Ct&&Ct.d(),Dt&&Dt.d(),Ht&&Ht.d(),E(Nt,t)}}}async function P({params:t,query:e}){const i=await this.fetch(`film/${t.slug}.json`),r=await i.json();if(200===i.status)return{film:r};this.error(i.status,r.message)}function j(t,e,i){V.locale("fr");let{film:r}=e;const s=`${F(r.artFr,r.titreFr)} (${r.realisateurs}, ${r.annee}) à voir en ligne sur HENRI, la plateforme de nos collections films`;return t.$set=(t=>{"film"in t&&i(0,r=t.film)}),[r,s]}export default class extends t{constructor(t){super(),e(this,t,j,C,i,{film:0})}}export{P as preload};
