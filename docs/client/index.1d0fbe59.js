import{S as s,i as a,s as r,e,t,b as l,c as i,d as c,h as n,f as o,g as f,j as h,H as m,k as u,l as d,n as v,x as g,y as p,m as E,q as I,o as V,p as D,r as w,u as k,v as F}from"./client.1c48c76e.js";import{M as j}from"./MainTitle.be33e561.js";import{_ as $}from"./lodash.fa187457.js";import{f as b,a as x}from"./format.f05e231e.js";function q(s,a,r){const e=s.slice();return e[5]=a[r],e}function H(s,a,r){const e=s.slice();return e[2]=a[r],e}function L(s){let a,r,m,v,p,E,I,V,D,w,k,F,j,$,x,q,H,L,M,y=s[5].duree+"",A=b(s[5].artFr,s[5].titreFr)+"",T=s[5].realisateurs+"",U=s[5].annee+"";return{c(){a=e("li"),r=e("a"),m=e("div"),v=e("img"),I=l(),V=e("div"),D=t(y),w=l(),k=e("div"),F=e("div"),j=t(A),$=l(),x=e("div"),q=t(T),H=t(", "),L=t(U),this.h()},l(s){a=i(s,"LI",{class:!0});var e=c(a);r=i(e,"A",{rel:!0,href:!0});var t=c(r);m=i(t,"DIV",{class:!0});var l=c(m);v=i(l,"IMG",{src:!0,alt:!0}),I=f(l),V=i(l,"DIV",{class:!0});var h=c(V);D=n(h,y),h.forEach(o),l.forEach(o),w=f(t),k=i(t,"DIV",{class:!0});var u=c(k);F=i(u,"DIV",{class:!0});var d=c(F);j=n(d,A),d.forEach(o),$=f(u),x=i(u,"DIV",{});var g=c(x);q=n(g,T),H=n(g,", "),L=n(g,U),g.forEach(o),u.forEach(o),t.forEach(o),e.forEach(o),this.h()},h(){v.src!==(p="https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/"+s[5].pk+"-1.jpg")&&h(v,"src",p),h(v,"alt",E=b(s[5].artFr,s[5].titreFr)),h(V,"class","duree"),h(m,"class","img-container"),h(F,"class","titre"),h(k,"class","film-info"),h(r,"rel","prefetch"),h(r,"href",M="film/"+s[5].slug),h(a,"class","film")},m(s,e){u(s,a,e),d(a,r),d(r,m),d(m,v),d(m,I),d(m,V),d(V,D),d(r,w),d(r,k),d(k,F),d(F,j),d(k,$),d(k,x),d(x,q),d(x,H),d(x,L)},p(s,a){1&a&&v.src!==(p="https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/"+s[5].pk+"-1.jpg")&&h(v,"src",p),1&a&&E!==(E=b(s[5].artFr,s[5].titreFr))&&h(v,"alt",E),1&a&&y!==(y=s[5].duree+"")&&g(D,y),1&a&&A!==(A=b(s[5].artFr,s[5].titreFr)+"")&&g(j,A),1&a&&T!==(T=s[5].realisateurs+"")&&g(q,T),1&a&&U!==(U=s[5].annee+"")&&g(L,U),1&a&&M!==(M="film/"+s[5].slug)&&h(r,"href",M)},d(s){s&&o(a)}}}function M(s){let a,r,m,v,E,I,V,D=s[2][0]+"",w=s[2][1].stub+"",k=s[2][2],F=[];for(let a=0;a<k.length;a+=1)F[a]=L(q(s,k,a));return{c(){a=e("h2"),r=t(D),m=l(),v=e("div"),E=l(),I=e("ul");for(let s=0;s<F.length;s+=1)F[s].c();V=l(),this.h()},l(s){a=i(s,"H2",{class:!0});var e=c(a);r=n(e,D),e.forEach(o),m=f(s),v=i(s,"DIV",{class:!0}),c(v).forEach(o),E=f(s),I=i(s,"UL",{class:!0});var t=c(I);for(let s=0;s<F.length;s+=1)F[s].l(t);V=f(t),t.forEach(o),this.h()},h(){h(a,"class","collection"),h(v,"class","stub"),h(I,"class","grid")},m(s,e){u(s,a,e),d(a,r),u(s,m,e),u(s,v,e),v.innerHTML=w,u(s,E,e),u(s,I,e);for(let s=0;s<F.length;s+=1)F[s].m(I,null);d(I,V)},p(s,a){if(1&a&&D!==(D=s[2][0]+"")&&g(r,D),1&a&&w!==(w=s[2][1].stub+"")&&(v.innerHTML=w),1&a){let r;for(k=s[2][2],r=0;r<k.length;r+=1){const e=q(s,k,r);F[r]?F[r].p(e,a):(F[r]=L(e),F[r].c(),F[r].m(I,V))}for(;r<F.length;r+=1)F[r].d(1);F.length=k.length}},d(s){s&&o(a),s&&o(m),s&&o(v),s&&o(E),s&&o(I),p(F,s)}}}function y(s){let a,r,g,q,L,y,A=!$.isUndefined(s[1]);const T=new j({});let U=A&&function(s){let a,r,g,p,E,I,V,D,w,k,F,j,$,q,H,L,M,y,A,T,U,C,G,N,P,S,O,R,z,B,J,K,Q,W,X,Y,Z=s[1].datePublished+"",_=b(s[1].artFr,s[1].titreFr)+"",ss=s[1].duree+"",as=s[1].realisateurs+"",rs=s[1].annee+"",es=x("<div>","</div>",s[1].adaptation)+"",ts=x("<div>Avec ",".</div>",s[1].interpretation)+"",ls=x("<div>","</div>",s[1].synopsis)+"";return{c(){a=e("div"),r=e("div"),g=e("h2"),p=t("Le film du "),E=t(Z),I=l(),V=e("div"),D=e("div"),w=e("a"),k=e("img"),$=l(),q=e("div"),H=e("div"),L=t(_),M=l(),y=e("div"),A=t(ss),U=l(),C=e("div"),G=e("div"),N=t(as),P=t(", "),S=t(rs),O=l(),z=l(),J=l(),Q=l(),W=e("a"),X=t("Voir le film"),this.h()},l(s){a=i(s,"DIV",{class:!0});var e=c(a);r=i(e,"DIV",{class:!0});var t=c(r);g=i(t,"H2",{});var l=c(g);p=n(l,"Le film du "),E=n(l,Z),l.forEach(o),t.forEach(o),I=f(e),V=i(e,"DIV",{class:!0});var h=c(V);D=i(h,"DIV",{class:!0});var m=c(D);w=i(m,"A",{rel:!0,href:!0,class:!0});var u=c(w);k=i(u,"IMG",{src:!0,alt:!0}),$=f(u),q=i(u,"DIV",{class:!0});var d=c(q);H=i(d,"DIV",{});var v=c(H);L=n(v,_),v.forEach(o),d.forEach(o),M=f(u),y=i(u,"DIV",{class:!0});var F=c(y);A=n(F,ss),F.forEach(o),u.forEach(o),m.forEach(o),U=f(h),C=i(h,"DIV",{class:!0});var j=c(C);G=i(j,"DIV",{});var b=c(G);N=n(b,as),P=n(b,", "),S=n(b,rs),b.forEach(o),O=f(j),z=f(j),J=f(j),Q=f(j),W=i(j,"A",{class:!0,rel:!0,href:!0});var x=c(W);X=n(x,"Voir le film"),x.forEach(o),j.forEach(o),h.forEach(o),e.forEach(o),this.h()},h(){h(r,"class","pick-label"),k.src!==(F="https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/"+s[1].pk+"-1.jpg")&&h(k,"src",F),h(k,"alt",j=b(s[1].artFr,s[1].titreFr)),h(q,"class","pick-title-container"),h(y,"class","duree"),h(w,"rel","prefetch"),h(w,"href",T="film/"+s[1].slug),h(w,"class","pick-img"),h(D,"class","pick-img-container"),R=new m(es,z),B=new m(ts,J),K=new m(ls,Q),h(W,"class","more"),h(W,"rel","prefetch"),h(W,"href",Y="film/"+s[1].slug),h(C,"class","pick-film-info"),h(V,"class","pick"),h(a,"class","pick-container")},m(s,e){u(s,a,e),d(a,r),d(r,g),d(g,p),d(g,E),d(a,I),d(a,V),d(V,D),d(D,w),d(w,k),d(w,$),d(w,q),d(q,H),d(H,L),d(w,M),d(w,y),d(y,A),d(V,U),d(V,C),d(C,G),d(G,N),d(G,P),d(G,S),d(C,O),R.m(C),d(C,z),B.m(C),d(C,J),K.m(C),d(C,Q),d(C,W),d(W,X)},p:v,d(s){s&&o(a)}}}(s),C=s[0],G=[];for(let a=0;a<C.length;a+=1)G[a]=M(H(s,C,a));return{c(){a=l(),r=e("section"),g=e("div"),E(T.$$.fragment),q=l(),U&&U.c(),L=l();for(let s=0;s<G.length;s+=1)G[s].c();this.h()},l(s){I('[data-svelte="svelte-f0g9c"]',document.head).forEach(o),a=f(s),r=i(s,"SECTION",{});var e=c(r);g=i(e,"DIV",{class:!0});var t=c(g);V(T.$$.fragment,t),q=f(t),U&&U.l(t),L=f(t);for(let s=0;s<G.length;s+=1)G[s].l(t);t.forEach(o),e.forEach(o),this.h()},h(){document.title="\n    HENRI - Des films rares de la Cinémathèque française à voir en ligne\n  ",h(g,"class","container")},m(s,e){u(s,a,e),u(s,r,e),d(r,g),D(T,g,null),d(g,q),U&&U.m(g,null),d(g,L);for(let s=0;s<G.length;s+=1)G[s].m(g,null);y=!0},p(s,[a]){if(A&&U.p(s,a),1&a){let r;for(C=s[0],r=0;r<C.length;r+=1){const e=H(s,C,r);G[r]?G[r].p(e,a):(G[r]=M(e),G[r].c(),G[r].m(g,null))}for(;r<G.length;r+=1)G[r].d(1);G.length=C.length}},i(s){y||(w(T.$$.fragment,s),y=!0)},o(s){k(T.$$.fragment,s),y=!1},d(s){s&&o(a),s&&o(r),F(T),U&&U.d(),p(G,s)}}}async function A({params:s,query:a}){const r=await this.fetch("film.json"),e=await r.json();if(200===r.status)return{collections:e};this.error(r.status,e.message)}function T(s,a,r){let{collections:e}=a,t=$(e).map(s=>s[2]).flatten().find(s=>!$.isUndefined(s.isPick));return s.$set=(s=>{"collections"in s&&r(0,e=s.collections)}),[e,t]}export default class extends s{constructor(s){super(),a(this,s,T,y,r,{collections:0})}}export{A as preload};
