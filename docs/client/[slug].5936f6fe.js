import{S as t,i as e,s as i,e as s,c as r,d as a,f as n,j as l,k as c,l as o,t as d,h,y as u,o as m,b as p,g as f,H as v,m as g,q as w,n as k}from"./client.8d71f3a1.js";import{f as F,a as E,_ as y,d as C}from"./format.a6af0c31.js";function I(t,e,i){const s=t.slice();return s[2]=e[i],s}function V(t){let e,i,d,h,u;return{c(){e=s("div"),i=s("div"),d=s("iframe"),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=r(s,"DIV",{class:!0});var l=a(i);d=r(l,"IFRAME",{title:!0,sandbox:!0,src:!0,frameborder:!0,allowfullscreen:!0}),a(d).forEach(n),l.forEach(n),s.forEach(n),this.h()},h(){l(d,"title",h=F(t[0].artFr,t[0].titreFr)),l(d,"sandbox","allow-same-origin allow-scripts allow-popups"),d.src!==(u="https://cinematheque.tube/videos/embed/"+t[0].videoId+"?title=0&warningTitle=0")&&l(d,"src",u),l(d,"frameborder","0"),d.allowFullscreen=!0,l(i,"class","video-container"),l(e,"class","video-wrapper")},m(t,s){c(t,e,s),o(e,i),o(i,d)},p(t,e){1&e&&h!==(h=F(t[0].artFr,t[0].titreFr))&&l(d,"title",h),1&e&&d.src!==(u="https://cinematheque.tube/videos/embed/"+t[0].videoId+"?title=0&warningTitle=0")&&l(d,"src",u)},d(t){t&&n(e)}}}function b(t){let e,i,p,f=C(t[0].dateUnpublished).format("dddd D MMM, HH[h]mm")+"";return{c(){e=s("div"),i=d("Film disponible jusqu'au "),p=d(f),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=h(s,"Film disponible jusqu'au "),p=h(s,f),s.forEach(n),this.h()},h(){l(e,"class","end"),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i),o(e,p)},p(t,i){1&i&&f!==(f=C(t[0].dateUnpublished).format("dddd D MMM, HH[h]mm")+"")&&m(p,f),1&i&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function q(t){let e,i,p=F(t[0].artVo,t[0].titreVo)+"";return{c(){e=s("div"),i=d(p),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=h(s,p),s.forEach(n),this.h()},h(){l(e,"class","titre-vo colored"),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i)},p(t,s){1&s&&p!==(p=F(t[0].artVo,t[0].titreVo)+"")&&m(i,p),1&s&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function M(t){let e,i,v,g=t[0].titreNx+"",w=t[0].titreVo&&P(t);return{c(){e=s("div"),i=d(g),v=p(),w&&w.c(),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=h(s,g),v=f(s),w&&w.l(s),s.forEach(n),this.h()},h(){l(e,"class","titre-vo colored"),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i),o(e,v),w&&w.m(e,null)},p(t,s){1&s&&g!==(g=t[0].titreNx+"")&&m(i,g),t[0].titreVo?w?w.p(t,s):((w=P(t)).c(),w.m(e,null)):w&&(w.d(1),w=null),1&s&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e),w&&w.d()}}}function P(t){let e,i,s,r=F(t[0].artVo,t[0].titreVo)+"";return{c(){e=d("["),i=d(r),s=d("]")},l(t){e=h(t,"["),i=h(t,r),s=h(t,"]")},m(t,r){c(t,e,r),c(t,i,r),c(t,s,r)},p(t,e){1&e&&r!==(r=F(t[0].artVo,t[0].titreVo)+"")&&m(i,r)},d(t){t&&n(e),t&&n(i),t&&n(s)}}}function T(t){let e,i;return{c(){e=s("img"),this.h()},l(t){e=r(t,"IMG",{height:!0,width:!0,src:!0,alt:!0,title:!0}),this.h()},h(){l(e,"height","12"),l(e,"width","12"),e.src!==(i="wheel.png")&&l(e,"src","wheel.png"),l(e,"alt","CC"),l(e,"title","Play the video then click on the settings wheel to select the\r\n            subtitles")},m(t,i){c(t,e,i)},d(t){t&&n(e)}}}function A(t){let e,i,l=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm),d=l&&D(t),h=t[0].links||[],u=[];for(let e=0;e<h.length;e+=1)u[e]=$(I(t,h,e));return{c(){e=s("div"),d&&d.c(),i=p();for(let t=0;t<u.length;t+=1)u[t].c()},l(t){e=r(t,"DIV",{});var s=a(e);d&&d.l(s),i=f(s);for(let t=0;t<u.length;t+=1)u[t].l(s);s.forEach(n)},m(t,s){c(t,e,s),d&&d.m(e,null),o(e,i);for(let t=0;t<u.length;t+=1)u[t].m(e,null)},p(t,s){if(1&s&&(l=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm)),l?d?d.p(t,s):((d=D(t)).c(),d.m(e,i)):d&&(d.d(1),d=null),1&s){let i;for(h=t[0].links||[],i=0;i<h.length;i+=1){const r=I(t,h,i);u[i]?u[i].p(r,s):(u[i]=$(r),u[i].c(),u[i].m(e,null))}for(;i<u.length;i+=1)u[i].d(1);u.length=h.length}},d(t){t&&n(e),d&&d.d(),g(u,t)}}}function D(t){let e,i,p,f,v,g=F(t[0].artFr,t[0].titreFr)+"";return{c(){e=s("a"),i=d("Plus de détails sur « "),p=d(g),f=d(" »\r\n              sur le Catalogue des restaurations et tirages de la Cinémathèque\r\n              française"),this.h()},l(t){e=r(t,"A",{class:!0,href:!0});var s=a(e);i=h(s,"Plus de détails sur « "),p=h(s,g),f=h(s," »\r\n              sur le Catalogue des restaurations et tirages de la Cinémathèque\r\n              française"),s.forEach(n),this.h()},h(){l(e,"class","catfilm colored"),l(e,"href",v="https://www.cinematheque.fr/catalogues/restaurations-tirages/film.php?id="+t[0].pk),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i),o(e,p),o(e,f)},p(t,i){1&i&&g!==(g=F(t[0].artFr,t[0].titreFr)+"")&&m(p,g),1&i&&v!==(v="https://www.cinematheque.fr/catalogues/restaurations-tirages/film.php?id="+t[0].pk)&&l(e,"href",v),1&i&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function $(t){let e,i,d,h,m=t[2].text+"";return{c(){e=s("a"),d=p(),this.h()},l(t){e=r(t,"A",{class:!0,href:!0});var i=a(e);d=f(i),i.forEach(n),this.h()},h(){i=new v(m,d),l(e,"class","catfilm colored"),l(e,"href",h=t[2].url),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),i.m(e),o(e,d)},p(t,s){1&s&&m!==(m=t[2].text+"")&&i.p(m),1&s&&h!==(h=t[2].url)&&l(e,"href",h),1&s&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function x(t){let e,i,g,C,I,P,D,$,x,j,H,U,N,L,R,S,G,O,z,B,J,K,Q,W,X,Y,Z,_,tt,et,it,st,rt,at,nt,lt,ct,ot,dt,ht,ut,mt,pt,ft,vt,gt,wt,kt=t[0].collection+"",Ft=`${F(t[0].artFr,t[0].titreFr)}${E('<div class="sous-titre-fr">',"</div>",t[0].sousTitreFr)}`+"",Et=t[0].realisateurs+"",yt=E(""," / ",t[0].pays)+"",Ct=t[0].annee+"",It=t[0].duree+"",Vt=E(" / ","",t[0].version)+"",bt=E("<div>","</div>",t[0].adaptation)+"",qt=E("<div>Avec ",".</div>",t[0].interpretation)+"",Mt=E('<div class="rem">',"</div>",t[0].remarque)+"",Pt=E('<div class="synopsis">',"</div>",t[0].synopsis)+"",Tt=E("<div>","</div>",t[0].restauration)+"",At=E("<hr><div>","</div>",t[0].comment)+"",Dt=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm)||t[0].links;document.title=H="\r\n    "+F(t[0].artFr,t[0].titreFr)+" ("+t[0].realisateurs+", "+t[0].annee+") -\r\n    HENRI - La Cinémathèque française\r\n  ";let $t=t[0].videoId&&V(t),xt=t[0].dateUnpublished&&b(t);function jt(t,e){return t[0].titreNx?M:t[0].titreVo?q:void 0}let Ht=jt(t),Ut=Ht&&Ht(t),Nt=t[0].isCC&&T(),Lt=Dt&&A(t);return{c(){e=s("meta"),i=s("meta"),C=s("meta"),P=s("meta"),$=s("meta"),x=s("meta"),j=s("meta"),U=p(),N=s("section"),L=s("div"),$t&&$t.c(),R=p(),S=s("article"),xt&&xt.c(),G=p(),O=s("div"),z=d(kt),B=p(),J=s("div"),K=s("h1"),Q=p(),Ut&&Ut.c(),W=p(),X=s("div"),Y=d(Et),Z=p(),_=s("div"),tt=d(yt),et=d(Ct),it=d(" / "),st=d(It),rt=d(Vt),at=p(),Nt&&Nt.c(),nt=p(),ct=p(),dt=p(),ut=p(),pt=p(),vt=p(),wt=p(),Lt&&Lt.c(),this.h()},l(t){const s=w('[data-svelte="svelte-ghaj6h"]',document.head);e=r(s,"META",{property:!0,content:!0}),i=r(s,"META",{property:!0,content:!0}),C=r(s,"META",{property:!0,content:!0}),P=r(s,"META",{property:!0,content:!0}),$=r(s,"META",{property:!0,content:!0}),x=r(s,"META",{property:!0,content:!0}),j=r(s,"META",{property:!0,content:!0}),s.forEach(n),U=f(t),N=r(t,"SECTION",{class:!0});var l=a(N);L=r(l,"DIV",{class:!0});var c=a(L);$t&&$t.l(c),R=f(c),S=r(c,"ARTICLE",{});var o=a(S);xt&&xt.l(o),G=f(o),O=r(o,"DIV",{class:!0});var d=a(O);z=h(d,kt),d.forEach(n),B=f(o),J=r(o,"DIV",{class:!0});var u=a(J);K=r(u,"H1",{class:!0}),a(K).forEach(n),Q=f(u),Ut&&Ut.l(u),u.forEach(n),W=f(o),X=r(o,"DIV",{class:!0});var m=a(X);Y=h(m,Et),m.forEach(n),Z=f(o),_=r(o,"DIV",{});var p=a(_);tt=h(p,yt),et=h(p,Ct),it=h(p," / "),st=h(p,It),rt=h(p,Vt),at=f(p),Nt&&Nt.l(p),p.forEach(n),nt=f(o),ct=f(o),dt=f(o),ut=f(o),pt=f(o),vt=f(o),wt=f(o),Lt&&Lt.l(o),o.forEach(n),c.forEach(n),l.forEach(n),this.h()},h(){l(e,"property","og:title"),l(e,"content",t[1]),l(i,"property","og:url"),l(i,"content",g="https://www.cinematheque.fr/henri/film/"+t[0].slug+"/"),l(C,"property","og:description"),l(C,"content",I=t[0].synopsis),l(P,"property","og:image"),l(P,"content",D=y.isUndefined(t[0].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${t[0].pk}-1.jpg`:`${t[0].thumb}`),l($,"property","og:image:type"),l($,"content","image/jpeg"),l(x,"property","og:image:width"),l(x,"content","533"),l(j,"property","og:image:height"),l(j,"content","400"),l(O,"class","collection"),u(O,"ispick",t[0].isPick),l(K,"class","colored"),u(K,"ispick",t[0].isPick),l(J,"class","titre-film"),l(X,"class","realisateurs"),lt=new v(bt,ct),ot=new v(qt,dt),ht=new v(Mt,ut),mt=new v(Pt,pt),ft=new v(Tt,vt),gt=new v(At,wt),l(L,"class","container"),l(N,"class","film-page")},m(t,s){o(document.head,e),o(document.head,i),o(document.head,C),o(document.head,P),o(document.head,$),o(document.head,x),o(document.head,j),c(t,U,s),c(t,N,s),o(N,L),$t&&$t.m(L,null),o(L,R),o(L,S),xt&&xt.m(S,null),o(S,G),o(S,O),o(O,z),o(S,B),o(S,J),o(J,K),K.innerHTML=Ft,o(J,Q),Ut&&Ut.m(J,null),o(S,W),o(S,X),o(X,Y),o(S,Z),o(S,_),o(_,tt),o(_,et),o(_,it),o(_,st),o(_,rt),o(_,at),Nt&&Nt.m(_,null),o(S,nt),lt.m(S),o(S,ct),ot.m(S),o(S,dt),ht.m(S),o(S,ut),mt.m(S),o(S,pt),ft.m(S),o(S,vt),gt.m(S),o(S,wt),Lt&&Lt.m(S,null)},p(t,[e]){1&e&&g!==(g="https://www.cinematheque.fr/henri/film/"+t[0].slug+"/")&&l(i,"content",g),1&e&&I!==(I=t[0].synopsis)&&l(C,"content",I),1&e&&D!==(D=y.isUndefined(t[0].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${t[0].pk}-1.jpg`:`${t[0].thumb}`)&&l(P,"content",D),1&e&&H!==(H="\r\n    "+F(t[0].artFr,t[0].titreFr)+" ("+t[0].realisateurs+", "+t[0].annee+") -\r\n    HENRI - La Cinémathèque française\r\n  ")&&(document.title=H),t[0].videoId?$t?$t.p(t,e):(($t=V(t)).c(),$t.m(L,R)):$t&&($t.d(1),$t=null),t[0].dateUnpublished?xt?xt.p(t,e):((xt=b(t)).c(),xt.m(S,G)):xt&&(xt.d(1),xt=null),1&e&&kt!==(kt=t[0].collection+"")&&m(z,kt),1&e&&u(O,"ispick",t[0].isPick),1&e&&Ft!==(Ft=`${F(t[0].artFr,t[0].titreFr)}${E('<div class="sous-titre-fr">',"</div>",t[0].sousTitreFr)}`+"")&&(K.innerHTML=Ft),1&e&&u(K,"ispick",t[0].isPick),Ht===(Ht=jt(t))&&Ut?Ut.p(t,e):(Ut&&Ut.d(1),(Ut=Ht&&Ht(t))&&(Ut.c(),Ut.m(J,null))),1&e&&Et!==(Et=t[0].realisateurs+"")&&m(Y,Et),1&e&&yt!==(yt=E(""," / ",t[0].pays)+"")&&m(tt,yt),1&e&&Ct!==(Ct=t[0].annee+"")&&m(et,Ct),1&e&&It!==(It=t[0].duree+"")&&m(st,It),1&e&&Vt!==(Vt=E(" / ","",t[0].version)+"")&&m(rt,Vt),t[0].isCC?Nt||((Nt=T()).c(),Nt.m(_,null)):Nt&&(Nt.d(1),Nt=null),1&e&&bt!==(bt=E("<div>","</div>",t[0].adaptation)+"")&&lt.p(bt),1&e&&qt!==(qt=E("<div>Avec ",".</div>",t[0].interpretation)+"")&&ot.p(qt),1&e&&Mt!==(Mt=E('<div class="rem">',"</div>",t[0].remarque)+"")&&ht.p(Mt),1&e&&Pt!==(Pt=E('<div class="synopsis">',"</div>",t[0].synopsis)+"")&&mt.p(Pt),1&e&&Tt!==(Tt=E("<div>","</div>",t[0].restauration)+"")&&ft.p(Tt),1&e&&At!==(At=E("<hr><div>","</div>",t[0].comment)+"")&&gt.p(At),1&e&&(Dt=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm)||t[0].links),Dt?Lt?Lt.p(t,e):((Lt=A(t)).c(),Lt.m(S,null)):Lt&&(Lt.d(1),Lt=null)},i:k,o:k,d(t){n(e),n(i),n(C),n(P),n($),n(x),n(j),t&&n(U),t&&n(N),$t&&$t.d(),xt&&xt.d(),Ut&&Ut.d(),Nt&&Nt.d(),Lt&&Lt.d()}}}async function j({params:t,query:e}){const i=await this.fetch(`film/${t.slug}.json`),s=await i.json();if(200===i.status)return{film:s};this.error(i.status,s.message)}function H(t,e,i){C.locale("fr");let{film:s}=e;const r=`${F(s.artFr,s.titreFr)} (${s.realisateurs}, ${s.annee}) à voir en ligne sur HENRI, la plateforme de nos collections films`;return t.$set=(t=>{"film"in t&&i(0,s=t.film)}),[s,r]}export default class extends t{constructor(t){super(),e(this,t,H,x,i,{film:0})}}export{j as preload};
