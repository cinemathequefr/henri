import{S as t,i as e,s as i,e as s,c as r,d as a,f as n,j as l,k as c,l as o,t as d,h,y as u,o as m,b as p,g as f,H as v,m as g,q as w,n as k}from"./client.1e05c944.js";import{f as E,a as F,_ as y,d as I}from"./format.a6af0c31.js";function V(t,e,i){const s=t.slice();return s[2]=e[i],s}function C(t){let e,i,d,h,u;return{c(){e=s("div"),i=s("div"),d=s("iframe"),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=r(s,"DIV",{class:!0});var l=a(i);d=r(l,"IFRAME",{title:!0,sandbox:!0,src:!0,frameborder:!0,allowfullscreen:!0}),a(d).forEach(n),l.forEach(n),s.forEach(n),this.h()},h(){l(d,"title",h=E(t[0].artFr,t[0].titreFr)),l(d,"sandbox","allow-same-origin allow-scripts allow-popups"),d.src!==(u="https://cinematheque.tube/videos/embed/"+t[0].videoId+"?title=0&warningTitle=0")&&l(d,"src",u),l(d,"frameborder","0"),d.allowFullscreen=!0,l(i,"class","video-container"),l(e,"class","video-wrapper")},m(t,s){c(t,e,s),o(e,i),o(i,d)},p(t,e){1&e&&h!==(h=E(t[0].artFr,t[0].titreFr))&&l(d,"title",h),1&e&&d.src!==(u="https://cinematheque.tube/videos/embed/"+t[0].videoId+"?title=0&warningTitle=0")&&l(d,"src",u)},d(t){t&&n(e)}}}function b(t){let e,i,p,f=I(t[0].dateUnpublished).format("dddd D MMM, HH[h]mm")+"";return{c(){e=s("div"),i=d("Film disponible jusqu'au "),p=d(f),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=h(s,"Film disponible jusqu'au "),p=h(s,f),s.forEach(n),this.h()},h(){l(e,"class","end"),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i),o(e,p)},p(t,i){1&i&&f!==(f=I(t[0].dateUnpublished).format("dddd D MMM, HH[h]mm")+"")&&m(p,f),1&i&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function q(t){let e,i,p=E(t[0].artVo,t[0].titreVo)+"";return{c(){e=s("div"),i=d(p),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=h(s,p),s.forEach(n),this.h()},h(){l(e,"class","titre-vo colored"),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i)},p(t,s){1&s&&p!==(p=E(t[0].artVo,t[0].titreVo)+"")&&m(i,p),1&s&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function M(t){let e,i,v,g=t[0].titreNx+"",w=t[0].titreVo&&P(t);return{c(){e=s("div"),i=d(g),v=p(),w&&w.c(),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=h(s,g),v=f(s),w&&w.l(s),s.forEach(n),this.h()},h(){l(e,"class","titre-vo colored"),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i),o(e,v),w&&w.m(e,null)},p(t,s){1&s&&g!==(g=t[0].titreNx+"")&&m(i,g),t[0].titreVo?w?w.p(t,s):((w=P(t)).c(),w.m(e,null)):w&&(w.d(1),w=null),1&s&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e),w&&w.d()}}}function P(t){let e,i,s,r=E(t[0].artVo,t[0].titreVo)+"";return{c(){e=d("["),i=d(r),s=d("]")},l(t){e=h(t,"["),i=h(t,r),s=h(t,"]")},m(t,r){c(t,e,r),c(t,i,r),c(t,s,r)},p(t,e){1&e&&r!==(r=E(t[0].artVo,t[0].titreVo)+"")&&m(i,r)},d(t){t&&n(e),t&&n(i),t&&n(s)}}}function T(t){let e,i;return{c(){e=s("img"),this.h()},l(t){e=r(t,"IMG",{height:!0,width:!0,src:!0,alt:!0,title:!0}),this.h()},h(){l(e,"height","12"),l(e,"width","12"),e.src!==(i="wheel.png")&&l(e,"src","wheel.png"),l(e,"alt","CC"),l(e,"title","Play the video then click on the settings wheel to select the\r\n            subtitles")},m(t,i){c(t,e,i)},d(t){t&&n(e)}}}function D(t){let e,i,l=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm),d=l&&A(t),h=t[0].links||[],u=[];for(let e=0;e<h.length;e+=1)u[e]=$(V(t,h,e));return{c(){e=s("div"),d&&d.c(),i=p();for(let t=0;t<u.length;t+=1)u[t].c()},l(t){e=r(t,"DIV",{});var s=a(e);d&&d.l(s),i=f(s);for(let t=0;t<u.length;t+=1)u[t].l(s);s.forEach(n)},m(t,s){c(t,e,s),d&&d.m(e,null),o(e,i);for(let t=0;t<u.length;t+=1)u[t].m(e,null)},p(t,s){if(1&s&&(l=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm)),l?d?d.p(t,s):((d=A(t)).c(),d.m(e,i)):d&&(d.d(1),d=null),1&s){let i;for(h=t[0].links||[],i=0;i<h.length;i+=1){const r=V(t,h,i);u[i]?u[i].p(r,s):(u[i]=$(r),u[i].c(),u[i].m(e,null))}for(;i<u.length;i+=1)u[i].d(1);u.length=h.length}},d(t){t&&n(e),d&&d.d(),g(u,t)}}}function A(t){let e,i,p,f,v,g=E(t[0].artFr,t[0].titreFr)+"";return{c(){e=s("a"),i=d("Plus de détails sur « "),p=d(g),f=d(" »\r\n              sur le Catalogue des restaurations et tirages de la Cinémathèque\r\n              française"),this.h()},l(t){e=r(t,"A",{class:!0,href:!0});var s=a(e);i=h(s,"Plus de détails sur « "),p=h(s,g),f=h(s," »\r\n              sur le Catalogue des restaurations et tirages de la Cinémathèque\r\n              française"),s.forEach(n),this.h()},h(){l(e,"class","catfilm colored"),l(e,"href",v="https://www.cinematheque.fr/catalogues/restaurations-tirages/film.php?id="+t[0].pk),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i),o(e,p),o(e,f)},p(t,i){1&i&&g!==(g=E(t[0].artFr,t[0].titreFr)+"")&&m(p,g),1&i&&v!==(v="https://www.cinematheque.fr/catalogues/restaurations-tirages/film.php?id="+t[0].pk)&&l(e,"href",v),1&i&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function $(t){let e,i,d,h,m=t[2].text+"";return{c(){e=s("a"),d=p(),this.h()},l(t){e=r(t,"A",{class:!0,href:!0});var i=a(e);d=f(i),i.forEach(n),this.h()},h(){i=new v(m,d),l(e,"class","catfilm colored"),l(e,"href",h=t[2].url),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),i.m(e),o(e,d)},p(t,s){1&s&&m!==(m=t[2].text+"")&&i.p(m),1&s&&h!==(h=t[2].url)&&l(e,"href",h),1&s&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function x(t){let e,i,g,I,V,P,A,$,x,j,H,U,N,L,R,S,G,O,z,B,J,K,Q,W,X,Y,Z,_,tt,et,it,st,rt,at,nt,lt,ct,ot,dt,ht,ut,mt,pt,ft,vt,gt,wt,kt,Et=t[0].collection+"",Ft=`${E(t[0].artFr,t[0].titreFr)}${F('<div class="sous-titre-fr">',"</div>",t[0].sousTitreFr)}`+"",yt=t[0].realisateurs+"",It=F(""," / ",t[0].pays)+"",Vt=t[0].annee+"",Ct=t[0].duree+"",bt=F(" / ","",t[0].version)+"",qt=F("<div>","</div>",t[0].adaptation)+"",Mt=F("<div>Avec ",".</div>",t[0].interpretation)+"",Pt=F('<div class="rem">',"</div>",t[0].remarque)+"",Tt=F('<div class="synopsis">',"</div>",t[0].synopsis)+"",Dt=F("<div>","</div>",t[0].restauration)+"",At=F("<hr><div>","</div>",t[0].comment)+"",$t=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm)||t[0].links;document.title=H="\r\n    "+E(t[0].artFr,t[0].titreFr)+" ("+t[0].realisateurs+", "+t[0].annee+") -\r\n    HENRI - La Cinémathèque française\r\n  ";let xt=t[0].videoId&&C(t),jt=t[0].dateUnpublished&&b(t);function Ht(t,e){return t[0].titreNx?M:t[0].titreVo?q:void 0}let Ut=Ht(t),Nt=Ut&&Ut(t),Lt=t[0].isCC&&T(),Rt=$t&&D(t);return{c(){e=s("meta"),i=s("meta"),I=s("meta"),P=s("meta"),$=s("meta"),x=s("meta"),j=s("meta"),U=p(),N=s("section"),L=s("div"),xt&&xt.c(),R=p(),S=s("article"),jt&&jt.c(),G=p(),O=s("div"),z=s("div"),B=d(Et),J=p(),K=s("div"),Q=s("h1"),W=p(),Nt&&Nt.c(),X=p(),Y=s("div"),Z=d(yt),_=p(),tt=s("div"),et=d(It),it=d(Vt),st=d(" / "),rt=d(Ct),at=d(bt),nt=p(),Lt&&Lt.c(),lt=p(),ot=p(),ht=p(),mt=p(),ft=p(),gt=p(),kt=p(),Rt&&Rt.c(),this.h()},l(t){const s=w('[data-svelte="svelte-ghaj6h"]',document.head);e=r(s,"META",{property:!0,content:!0}),i=r(s,"META",{property:!0,content:!0}),I=r(s,"META",{property:!0,content:!0}),P=r(s,"META",{property:!0,content:!0}),$=r(s,"META",{property:!0,content:!0}),x=r(s,"META",{property:!0,content:!0}),j=r(s,"META",{property:!0,content:!0}),s.forEach(n),U=f(t),N=r(t,"SECTION",{class:!0});var l=a(N);L=r(l,"DIV",{class:!0});var c=a(L);xt&&xt.l(c),R=f(c),S=r(c,"ARTICLE",{});var o=a(S);jt&&jt.l(o),G=f(o),O=r(o,"DIV",{});var d=a(O);z=r(d,"DIV",{class:!0});var u=a(z);B=h(u,Et),u.forEach(n),d.forEach(n),J=f(o),K=r(o,"DIV",{class:!0});var m=a(K);Q=r(m,"H1",{class:!0}),a(Q).forEach(n),W=f(m),Nt&&Nt.l(m),m.forEach(n),X=f(o),Y=r(o,"DIV",{class:!0});var p=a(Y);Z=h(p,yt),p.forEach(n),_=f(o),tt=r(o,"DIV",{});var v=a(tt);et=h(v,It),it=h(v,Vt),st=h(v," / "),rt=h(v,Ct),at=h(v,bt),nt=f(v),Lt&&Lt.l(v),v.forEach(n),lt=f(o),ot=f(o),ht=f(o),mt=f(o),ft=f(o),gt=f(o),kt=f(o),Rt&&Rt.l(o),o.forEach(n),c.forEach(n),l.forEach(n),this.h()},h(){l(e,"property","og:title"),l(e,"content",t[1]),l(i,"property","og:url"),l(i,"content",g="https://www.cinematheque.fr/henri/film/"+t[0].slug+"/"),l(I,"property","og:description"),l(I,"content",V=t[0].synopsis),l(P,"property","og:image"),l(P,"content",A=y.isUndefined(t[0].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${t[0].pk}-1.jpg`:`${t[0].thumb}`),l($,"property","og:image:type"),l($,"content","image/jpeg"),l(x,"property","og:image:width"),l(x,"content","533"),l(j,"property","og:image:height"),l(j,"content","400"),l(z,"class","collection"),u(z,"ispick",t[0].isPick),l(Q,"class","colored"),u(Q,"ispick",t[0].isPick),l(K,"class","titre-film"),l(Y,"class","realisateurs"),ct=new v(qt,ot),dt=new v(Mt,ht),ut=new v(Pt,mt),pt=new v(Tt,ft),vt=new v(Dt,gt),wt=new v(At,kt),l(L,"class","container"),l(N,"class","film-page")},m(t,s){o(document.head,e),o(document.head,i),o(document.head,I),o(document.head,P),o(document.head,$),o(document.head,x),o(document.head,j),c(t,U,s),c(t,N,s),o(N,L),xt&&xt.m(L,null),o(L,R),o(L,S),jt&&jt.m(S,null),o(S,G),o(S,O),o(O,z),o(z,B),o(S,J),o(S,K),o(K,Q),Q.innerHTML=Ft,o(K,W),Nt&&Nt.m(K,null),o(S,X),o(S,Y),o(Y,Z),o(S,_),o(S,tt),o(tt,et),o(tt,it),o(tt,st),o(tt,rt),o(tt,at),o(tt,nt),Lt&&Lt.m(tt,null),o(S,lt),ct.m(S),o(S,ot),dt.m(S),o(S,ht),ut.m(S),o(S,mt),pt.m(S),o(S,ft),vt.m(S),o(S,gt),wt.m(S),o(S,kt),Rt&&Rt.m(S,null)},p(t,[e]){1&e&&g!==(g="https://www.cinematheque.fr/henri/film/"+t[0].slug+"/")&&l(i,"content",g),1&e&&V!==(V=t[0].synopsis)&&l(I,"content",V),1&e&&A!==(A=y.isUndefined(t[0].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${t[0].pk}-1.jpg`:`${t[0].thumb}`)&&l(P,"content",A),1&e&&H!==(H="\r\n    "+E(t[0].artFr,t[0].titreFr)+" ("+t[0].realisateurs+", "+t[0].annee+") -\r\n    HENRI - La Cinémathèque française\r\n  ")&&(document.title=H),t[0].videoId?xt?xt.p(t,e):((xt=C(t)).c(),xt.m(L,R)):xt&&(xt.d(1),xt=null),t[0].dateUnpublished?jt?jt.p(t,e):((jt=b(t)).c(),jt.m(S,G)):jt&&(jt.d(1),jt=null),1&e&&Et!==(Et=t[0].collection+"")&&m(B,Et),1&e&&u(z,"ispick",t[0].isPick),1&e&&Ft!==(Ft=`${E(t[0].artFr,t[0].titreFr)}${F('<div class="sous-titre-fr">',"</div>",t[0].sousTitreFr)}`+"")&&(Q.innerHTML=Ft),1&e&&u(Q,"ispick",t[0].isPick),Ut===(Ut=Ht(t))&&Nt?Nt.p(t,e):(Nt&&Nt.d(1),(Nt=Ut&&Ut(t))&&(Nt.c(),Nt.m(K,null))),1&e&&yt!==(yt=t[0].realisateurs+"")&&m(Z,yt),1&e&&It!==(It=F(""," / ",t[0].pays)+"")&&m(et,It),1&e&&Vt!==(Vt=t[0].annee+"")&&m(it,Vt),1&e&&Ct!==(Ct=t[0].duree+"")&&m(rt,Ct),1&e&&bt!==(bt=F(" / ","",t[0].version)+"")&&m(at,bt),t[0].isCC?Lt||((Lt=T()).c(),Lt.m(tt,null)):Lt&&(Lt.d(1),Lt=null),1&e&&qt!==(qt=F("<div>","</div>",t[0].adaptation)+"")&&ct.p(qt),1&e&&Mt!==(Mt=F("<div>Avec ",".</div>",t[0].interpretation)+"")&&dt.p(Mt),1&e&&Pt!==(Pt=F('<div class="rem">',"</div>",t[0].remarque)+"")&&ut.p(Pt),1&e&&Tt!==(Tt=F('<div class="synopsis">',"</div>",t[0].synopsis)+"")&&pt.p(Tt),1&e&&Dt!==(Dt=F("<div>","</div>",t[0].restauration)+"")&&vt.p(Dt),1&e&&At!==(At=F("<hr><div>","</div>",t[0].comment)+"")&&wt.p(At),1&e&&($t=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm)||t[0].links),$t?Rt?Rt.p(t,e):((Rt=D(t)).c(),Rt.m(S,null)):Rt&&(Rt.d(1),Rt=null)},i:k,o:k,d(t){n(e),n(i),n(I),n(P),n($),n(x),n(j),t&&n(U),t&&n(N),xt&&xt.d(),jt&&jt.d(),Nt&&Nt.d(),Lt&&Lt.d(),Rt&&Rt.d()}}}async function j({params:t,query:e}){const i=await this.fetch(`film/${t.slug}.json`),s=await i.json();if(200===i.status)return{film:s};this.error(i.status,s.message)}function H(t,e,i){I.locale("fr");let{film:s}=e;const r=`${E(s.artFr,s.titreFr)} (${s.realisateurs}, ${s.annee}) à voir en ligne sur HENRI, la plateforme de nos collections films`;return t.$set=(t=>{"film"in t&&i(0,s=t.film)}),[s,r]}export default class extends t{constructor(t){super(),e(this,t,H,x,i,{film:0})}}export{j as preload};
