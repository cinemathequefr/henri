import{S as e,i as t,s as r,e as s,t as a,a as l,c as i,b as n,d as o,f as c,g as h,h as f,j as d,k as u,l as m,m as p,n as v,o as g,p as E,q as w,r as M,u as D,v as F,w as I,x as y,y as b,z as $,H as T,A as V,B as A}from"./client.fa891aba.js";import{l as k,d as H,f as j,a as q,P as U}from"./PictoAge.acf3518c.js";import"./dayjs_custom_locale_fr.d546f9a4.js";import{M as L}from"./MainTitle.af042963.js";var P=function(e){e.preventDefault();const t=e.currentTarget,r=new URL(t.href).hash.replace("#",""),s=document.getElementById(r);window.scrollTo({top:s.offsetTop,behavior:"smooth"}),history.pushState({top:s.offsetTop},null,"#"+r)};const{window:Y}=$;function x(e,t,r){const s=e.slice();return s[6]=t[r],s}function C(e,t,r){const s=e.slice();return s[3]=t[r],s}function S(e,t,r){const s=e.slice();return s[1]=t[r],s}function B(e,t,r){const s=e.slice();return s[3]=t[r],s}function N(e){let t,r,g,E,w,M,D,F=e[3].name+"";return{c(){t=s("a"),r=s("span"),g=a(F),E=l(),this.h()},l(e){t=i(e,"A",{href:!0});var s=n(t);r=i(s,"SPAN",{});var a=n(r);g=o(a,F),a.forEach(c),E=h(s),s.forEach(c),this.h()},h(){f(t,"href",w="#"+e[3].slug),d(t,"archived",e[3].isArchived),d(t,"glow",e[3].name===e[1][0].collection)},m(e,s){u(e,t,s),m(t,r),m(r,g),m(t,E),M||(D=p(t,"click",P),M=!0)},p(e,r){1&r&&F!==(F=e[3].name+"")&&v(g,F),1&r&&w!==(w="#"+e[3].slug)&&f(t,"href",w),1&r&&d(t,"archived",e[3].isArchived),3&r&&d(t,"glow",e[3].name===e[1][0].collection)},d(e){e&&c(t),M=!1,D()}}}function R(e){let t,r,d,p,E,w,M,D=1===e[1].length?"Le film":"Les films",F=H(e[1][0].datePublished).format("dddd D MMMM")+"",I=e[1],y=[];for(let t=0;t<I.length;t+=1)y[t]=z(S(e,I,t));return{c(){t=s("div"),r=s("div"),d=s("h2"),p=a(D),E=a("\r\n            du\r\n            "),w=a(F),M=l();for(let e=0;e<y.length;e+=1)y[e].c();this.h()},l(e){t=i(e,"DIV",{class:!0});var s=n(t);r=i(s,"DIV",{class:!0});var a=n(r);d=i(a,"H2",{});var l=n(d);p=o(l,D),E=o(l,"\r\n            du\r\n            "),w=o(l,F),l.forEach(c),a.forEach(c),M=h(s);for(let e=0;e<y.length;e+=1)y[e].l(s);s.forEach(c),this.h()},h(){f(r,"class","pick-label"),f(t,"class","pick-container")},m(e,s){u(e,t,s),m(t,r),m(r,d),m(d,p),m(d,E),m(d,w),m(t,M);for(let e=0;e<y.length;e+=1)y[e].m(t,null)},p(e,r){if(2&r&&D!==(D=1===e[1].length?"Le film":"Les films")&&v(p,D),2&r&&F!==(F=H(e[1][0].datePublished).format("dddd D MMMM")+"")&&v(w,F),2&r){let s;for(I=e[1],s=0;s<I.length;s+=1){const a=S(e,I,s);y[s]?y[s].p(a,r):(y[s]=z(a),y[s].c(),y[s].m(t,null))}for(;s<y.length;s+=1)y[s].d(1);y.length=I.length}},d(e){e&&c(t),g(y,e)}}}function z(e){let t,r,d,p,g,E,w,M,D,F,I,y,b,$,V,A,H,U,L,P,Y,x,C,S,B,N,R,z,_,G,J,O,K,Q=j(e[1].artFr,e[1].titreFr)+"",W=q("<div class='sous-titre-fr'>","</div>",e[1].sousTitreFr)+"",X=e[1].duree+"",Z=e[1].realisateurs+"",ee=e[1].annee+"",te=q("<div>","</div>",e[1].adaptation)+"",re=q("<div>Avec ",".</div>",e[1].interpretation)+"",se=q("<div>","</div>",e[1].shortSynopsis||e[1].synopsis)+"";return{c(){t=s("div"),r=s("div"),d=s("a"),p=s("img"),w=l(),M=s("div"),D=s("div"),I=l(),b=l(),$=s("div"),V=a(X),H=l(),U=s("div"),L=s("div"),P=a(Z),Y=a(", "),x=a(ee),C=l(),B=l(),R=l(),_=l(),G=s("a"),J=a("Voir le film"),K=l(),this.h()},l(e){t=i(e,"DIV",{class:!0});var s=n(t);r=i(s,"DIV",{class:!0});var a=n(r);d=i(a,"A",{rel:!0,href:!0,class:!0});var l=n(d);p=i(l,"IMG",{src:!0,alt:!0}),w=h(l),M=i(l,"DIV",{class:!0});var f=n(M);D=i(f,"DIV",{});var u=n(D);I=h(u),u.forEach(c),f.forEach(c),b=h(l),$=i(l,"DIV",{class:!0});var m=n($);V=o(m,X),m.forEach(c),l.forEach(c),a.forEach(c),H=h(s),U=i(s,"DIV",{class:!0});var v=n(U);L=i(v,"DIV",{});var g=n(L);P=o(g,Z),Y=o(g,", "),x=o(g,ee),g.forEach(c),C=h(v),B=h(v),R=h(v),_=h(v),G=i(v,"A",{class:!0,rel:!0,href:!0});var E=n(G);J=o(E,"Voir le film"),E.forEach(c),v.forEach(c),K=h(s),s.forEach(c),this.h()},h(){p.src!==(g=k.isUndefined(e[1].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${e[1].pk}-1.jpg`:""+e[1].thumb)&&f(p,"src",g),f(p,"alt",E=j(e[1].artFr,e[1].titreFr)),F=new T(I),y=new T(null),f(M,"class","pick-title-container"),f($,"class","duree"),f(d,"rel","prefetch"),f(d,"href",A="film/"+e[1].slug+"/"),f(d,"class","pick-img"),f(r,"class","pick-img-container"),S=new T(B),N=new T(R),z=new T(_),f(G,"class","more"),f(G,"rel","prefetch"),f(G,"href",O="film/"+e[1].slug+"/"),f(U,"class","pick-film-info"),f(t,"class","pick")},m(e,s){u(e,t,s),m(t,r),m(r,d),m(d,p),m(d,w),m(d,M),m(M,D),F.m(Q,D),m(D,I),y.m(W,D),m(d,b),m(d,$),m($,V),m(t,H),m(t,U),m(U,L),m(L,P),m(L,Y),m(L,x),m(U,C),S.m(te,U),m(U,B),N.m(re,U),m(U,R),z.m(se,U),m(U,_),m(U,G),m(G,J),m(t,K)},p(e,t){2&t&&p.src!==(g=k.isUndefined(e[1].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${e[1].pk}-1.jpg`:""+e[1].thumb)&&f(p,"src",g),2&t&&E!==(E=j(e[1].artFr,e[1].titreFr))&&f(p,"alt",E),2&t&&Q!==(Q=j(e[1].artFr,e[1].titreFr)+"")&&F.p(Q),2&t&&W!==(W=q("<div class='sous-titre-fr'>","</div>",e[1].sousTitreFr)+"")&&y.p(W),2&t&&X!==(X=e[1].duree+"")&&v(V,X),2&t&&A!==(A="film/"+e[1].slug+"/")&&f(d,"href",A),2&t&&Z!==(Z=e[1].realisateurs+"")&&v(P,Z),2&t&&ee!==(ee=e[1].annee+"")&&v(x,ee),2&t&&te!==(te=q("<div>","</div>",e[1].adaptation)+"")&&S.p(te),2&t&&re!==(re=q("<div>Avec ",".</div>",e[1].interpretation)+"")&&N.p(re),2&t&&se!==(se=q("<div>","</div>",e[1].shortSynopsis||e[1].synopsis)+"")&&z.p(se),2&t&&O!==(O="film/"+e[1].slug+"/")&&f(G,"href",O)},d(e){e&&c(t)}}}function _(e){let t,r=e[3].header.stub+"";return{c(){t=s("div"),this.h()},l(e){t=i(e,"DIV",{class:!0}),n(t).forEach(c),this.h()},h(){f(t,"class","stub"),d(t,"archived",e[3].isArchived)},m(e,s){u(e,t,s),t.innerHTML=r},p(e,s){1&s&&r!==(r=e[3].header.stub+"")&&(t.innerHTML=r),1&s&&d(t,"archived",e[3].isArchived)},d(e){e&&c(t)}}}function G(e){let t,r,l,h=H(e[6].dateUnpublished).format(H().year()<H(e[6].dateUnpublished).year()?"D MMM YYYY":"D MMM")+"";return{c(){t=s("div"),r=a("Jusqu'au\r\n                      \r\n                      "),l=a(h),this.h()},l(e){t=i(e,"DIV",{class:!0});var s=n(t);r=o(s,"Jusqu'au\r\n                      \r\n                      "),l=o(s,h),s.forEach(c),this.h()},h(){f(t,"class","end")},m(e,s){u(e,t,s),m(t,r),m(t,l)},p(e,t){1&t&&h!==(h=H(e[6].dateUnpublished).format(H().year()<H(e[6].dateUnpublished).year()?"D MMM YYYY":"D MMM")+"")&&v(l,h)},d(e){e&&c(t)}}}function J(e){let t,r;return{c(){t=s("div"),r=a("Film indisponible"),this.h()},l(e){t=i(e,"DIV",{class:!0});var s=n(t);r=o(s,"Film indisponible"),s.forEach(c),this.h()},h(){f(t,"class","end")},m(e,s){u(e,t,s),m(t,r)},p:A,d(e){e&&c(t)}}}function O(e){let t,r,p,g,y,b,$,V,A,k,H,L,P,Y,x,C,S,B,N,R,z,_,O,K,Q=e[6].duree+"",W=`${j(e[6].artFr,e[6].titreFr)}${q("string"==typeof e[6].sousTitreFr?e[6].sousTitreFr[0]===e[6].sousTitreFr[0].toUpperCase()?". ":" ":"","",e[6].sousTitreFr)}`,X=e[6].realisateurs+"",Z=e[6].annee+"";function ee(e,t){return 3===e[6].status?J:e[6].dateUnpublished?G:void 0}x=new U({props:{age:e[6].ageMin,size:"20"}});let te=ee(e),re=te&&te(e);return{c(){t=s("li"),r=s("a"),p=s("div"),g=s("img"),$=l(),V=s("div"),A=a(Q),k=l(),H=s("div"),L=s("div"),Y=l(),w(x.$$.fragment),C=l(),S=s("div"),B=a(X),N=a(", "),R=a(Z),z=l(),re&&re.c(),O=l(),this.h()},l(e){t=i(e,"LI",{class:!0});var s=n(t);r=i(s,"A",{rel:!0,href:!0});var a=n(r);p=i(a,"DIV",{class:!0});var l=n(p);g=i(l,"IMG",{loading:!0,src:!0,alt:!0}),$=h(l),V=i(l,"DIV",{class:!0});var f=n(V);A=o(f,Q),f.forEach(c),l.forEach(c),k=h(a),H=i(a,"DIV",{class:!0});var d=n(H);L=i(d,"DIV",{class:!0});var u=n(L);Y=h(u),M(x.$$.fragment,u),u.forEach(c),C=h(d),S=i(d,"DIV",{});var m=n(S);B=o(m,X),N=o(m,", "),R=o(m,Z),m.forEach(c),z=h(d),re&&re.l(d),d.forEach(c),a.forEach(c),O=h(s),s.forEach(c),this.h()},h(){f(g,"loading","lazy"),g.src!==(y=e[6].thumb)&&f(g,"src",y),f(g,"alt",b=j(e[6].artFr,e[6].titreFr)),f(V,"class","duree"),f(p,"class","img-container"),P=new T(Y),f(L,"class","titre"),f(H,"class","film-info"),f(r,"rel","prefetch"),f(r,"href",_="film/"+e[6].slug+"/"),f(t,"class","film"),d(t,"archived",e[6].isArchived),d(t,"ispick",e[6].isPick)},m(e,s){u(e,t,s),m(t,r),m(r,p),m(p,g),m(p,$),m(p,V),m(V,A),m(r,k),m(r,H),m(H,L),P.m(W,L),m(L,Y),D(x,L,null),m(H,C),m(H,S),m(S,B),m(S,N),m(S,R),m(H,z),re&&re.m(H,null),m(t,O),K=!0},p(e,s){(!K||1&s&&g.src!==(y=e[6].thumb))&&f(g,"src",y),(!K||1&s&&b!==(b=j(e[6].artFr,e[6].titreFr)))&&f(g,"alt",b),(!K||1&s)&&Q!==(Q=e[6].duree+"")&&v(A,Q),(!K||1&s)&&W!==(W=`${j(e[6].artFr,e[6].titreFr)}${q("string"==typeof e[6].sousTitreFr?e[6].sousTitreFr[0]===e[6].sousTitreFr[0].toUpperCase()?". ":" ":"","",e[6].sousTitreFr)}`)&&P.p(W);const a={};1&s&&(a.age=e[6].ageMin),x.$set(a),(!K||1&s)&&X!==(X=e[6].realisateurs+"")&&v(B,X),(!K||1&s)&&Z!==(Z=e[6].annee+"")&&v(R,Z),te===(te=ee(e))&&re?re.p(e,s):(re&&re.d(1),re=te&&te(e),re&&(re.c(),re.m(H,null))),(!K||1&s&&_!==(_="film/"+e[6].slug+"/"))&&f(r,"href",_),1&s&&d(t,"archived",e[6].isArchived),1&s&&d(t,"ispick",e[6].isPick)},i(e){K||(E(x.$$.fragment,e),K=!0)},o(e){F(x.$$.fragment,e),K=!1},d(e){e&&c(t),I(x),re&&re.d()}}}function K(e){let t,r,p,w,M,D,I,b,$,T=e[3].name+"",A=e[3].header.stub&&_(e),k=e[3].films,H=[];for(let t=0;t<k.length;t+=1)H[t]=O(x(e,k,t));const j=e=>F(H[e],1,1,()=>{H[e]=null});return{c(){t=s("div"),r=s("h2"),p=a(T),M=l(),A&&A.c(),D=l(),I=s("ul");for(let e=0;e<H.length;e+=1)H[e].c();b=l(),this.h()},l(e){t=i(e,"DIV",{});var s=n(t);r=i(s,"H2",{class:!0,id:!0});var a=n(r);p=o(a,T),a.forEach(c),M=h(s),A&&A.l(s),D=h(s),I=i(s,"UL",{class:!0});var l=n(I);for(let e=0;e<H.length;e+=1)H[e].l(l);l.forEach(c),b=h(s),s.forEach(c),this.h()},h(){f(r,"class","collection"),f(r,"id",w=e[3].slug),d(r,"archived",e[3].isArchived),f(I,"class","grid")},m(e,s){u(e,t,s),m(t,r),m(r,p),m(t,M),A&&A.m(t,null),m(t,D),m(t,I);for(let e=0;e<H.length;e+=1)H[e].m(I,null);m(t,b),$=!0},p(e,s){if((!$||1&s)&&T!==(T=e[3].name+"")&&v(p,T),(!$||1&s&&w!==(w=e[3].slug))&&f(r,"id",w),1&s&&d(r,"archived",e[3].isArchived),e[3].header.stub?A?A.p(e,s):(A=_(e),A.c(),A.m(t,D)):A&&(A.d(1),A=null),1&s){let t;for(k=e[3].films,t=0;t<k.length;t+=1){const r=x(e,k,t);H[t]?(H[t].p(r,s),E(H[t],1)):(H[t]=O(r),H[t].c(),E(H[t],1),H[t].m(I,null))}for(V(),t=k.length;t<H.length;t+=1)j(t);y()}},i(e){if(!$){for(let e=0;e<k.length;e+=1)E(H[e]);$=!0}},o(e){H=H.filter(Boolean);for(let e=0;e<H.length;e+=1)F(H[e]);$=!1},d(e){e&&c(t),A&&A.d(),g(H,e)}}}function Q(e){let t,r,a,o,d,v,$,T,A,k,H,j,q,U,P,x;A=new L({});let S=e[0],z=[];for(let t=0;t<S.length;t+=1)z[t]=N(B(e,S,t));let _=e[1].length>0&&R(e),G=e[0],J=[];for(let t=0;t<G.length;t+=1)J[t]=K(C(e,G,t));const O=e=>F(J[e],1,1,()=>{J[e]=null});return{c(){t=s("meta"),r=s("meta"),a=s("meta"),o=s("meta"),d=l(),v=s("section"),$=s("div"),T=s("h1"),w(A.$$.fragment),k=l(),H=s("div");for(let e=0;e<z.length;e+=1)z[e].c();j=l(),_&&_.c(),q=l();for(let e=0;e<J.length;e+=1)J[e].c();this.h()},l(e){const s=b('[data-svelte="svelte-1hmvvng"]',document.head);t=i(s,"META",{property:!0,content:!0}),r=i(s,"META",{property:!0,content:!0}),a=i(s,"META",{property:!0,content:!0}),o=i(s,"META",{property:!0,content:!0}),s.forEach(c),d=h(e),v=i(e,"SECTION",{});var l=n(v);$=i(l,"DIV",{class:!0});var f=n($);T=i(f,"H1",{class:!0});var u=n(T);M(A.$$.fragment,u),u.forEach(c),k=h(f),H=i(f,"DIV",{class:!0});var m=n(H);for(let e=0;e<z.length;e+=1)z[e].l(m);m.forEach(c),j=h(f),_&&_.l(f),q=h(f);for(let e=0;e<J.length;e+=1)J[e].l(f);f.forEach(c),l.forEach(c),this.h()},h(){document.title="\r\n    HENRI : Des films rares de la Cinémathèque française à voir en ligne\r\n  ",f(t,"property","og:url"),f(t,"content","https://www.cinematheque.fr/henri/"),f(r,"property","og:title"),f(r,"content","HENRI - Des films rares de la Cinémathèque française à voir en\r\n    ligne"),f(a,"property","og:image"),f(a,"content","https://www.cinematheque.fr/henri/logo-918x480.jpg"),f(o,"property","og:description"),f(o,"content","HENRI, la plateforme VOD de la Cinémathèque française vous propose\r\n    de découvrir gratuitement en ligne des films rares issus de ses collections."),f(T,"class","svelte-14mm8il"),f(H,"class","collections-list"),f($,"class","container")},m(s,l){m(document.head,t),m(document.head,r),m(document.head,a),m(document.head,o),u(s,d,l),u(s,v,l),m(v,$),m($,T),D(A,T,null),m($,k),m($,H);for(let e=0;e<z.length;e+=1)z[e].m(H,null);m($,j),_&&_.m($,null),m($,q);for(let e=0;e<J.length;e+=1)J[e].m($,null);U=!0,P||(x=p(Y,"popstate",e[2]),P=!0)},p(e,[t]){if(3&t){let r;for(S=e[0],r=0;r<S.length;r+=1){const s=B(e,S,r);z[r]?z[r].p(s,t):(z[r]=N(s),z[r].c(),z[r].m(H,null))}for(;r<z.length;r+=1)z[r].d(1);z.length=S.length}if(e[1].length>0?_?_.p(e,t):(_=R(e),_.c(),_.m($,q)):_&&(_.d(1),_=null),1&t){let r;for(G=e[0],r=0;r<G.length;r+=1){const s=C(e,G,r);J[r]?(J[r].p(s,t),E(J[r],1)):(J[r]=K(s),J[r].c(),E(J[r],1),J[r].m($,null))}for(V(),r=G.length;r<J.length;r+=1)O(r);y()}},i(e){if(!U){E(A.$$.fragment,e);for(let e=0;e<G.length;e+=1)E(J[e]);U=!0}},o(e){F(A.$$.fragment,e),J=J.filter(Boolean);for(let e=0;e<J.length;e+=1)F(J[e]);U=!1},d(e){c(t),c(r),c(a),c(o),e&&c(d),e&&c(v),I(A),g(z,e),_&&_.d(),g(J,e),P=!1,x()}}}async function W({params:e,query:t}){let r=await this.fetch("collections-headers.json");if(200===r.status){r=await r.json();let e=k(r).map(e=>e.films).flatten().filter(e=>!e.isArchived&&e.isPick).orderBy(e=>e.order).map(e=>e.slug).value();return e=await Promise.all(k(e).map(async e=>{let t=await this.fetch(`film/${e}.json`);return t.status>=400?null:await t.json()}).value()),e=k.compact(e),{collectionsHeaders:r,pick:e}}this.error(res.status,data.message)}function X(e,t,r){H.locale("fr");let{collectionsHeaders:s}=t,{pick:a}=t;return e.$set=e=>{"collectionsHeaders"in e&&r(0,s=e.collectionsHeaders),"pick"in e&&r(1,a=e.pick)},[s,a,e=>{console.log(e.state&&e.state.top||0),window.scrollTo({top:e.state&&e.state.top||0,behavior:"smooth"})}]}export default class extends e{constructor(e){super(),t(this,e,X,Q,r,{collectionsHeaders:0,pick:1})}}export{W as preload};
