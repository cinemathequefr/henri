import{S as e,i as t,s,y as i,z as r,k as a,e as l,t as c,b as n,c as o,d,h as u,f as h,g as m,j as p,A as f,l as v,B as g,C as k,D as w,E,v as y,w as b,p as $,r as F,u as P,x as V,o as I,H as q,m as C,q as x,F as D,G as M}from"./client.a1b8de58.js";import{f as T,a as A,_ as U,d as j}from"./format.a6af0c31.js";function H(e){let t,s=!e[3]&&N(e);return{c(){s&&s.c(),t=r()},l(e){s&&s.l(e),t=r()},m(e,i){s&&s.m(e,i),a(e,t,i)},p(e,i){e[3]?s&&(s.d(1),s=null):s?s.p(e,i):((s=N(e)).c(),s.m(t.parentNode,t))},d(e){s&&s.d(e),e&&h(t)}}}function N(e){let t,s,i,r,w,E,y,b,$,F,P,V,I,q,C,x,D;return{c(){t=l("div"),s=l("div"),i=c("Ce film comporte des images susceptibles de heurter la sensibilité de\r\n          certains spectateurs. Pour cette raison, il est déconseillé aux moins\r\n          de 16 ans."),r=n(),w=l("div"),E=l("label"),y=l("input"),b=n(),$=l("span"),F=n(),P=l("label"),V=c("Je confirme avoir pris connaissance de l'avertissement accompagnant\r\n            la diffusion de ce film."),I=n(),q=l("button"),C=c("Voir le film"),this.h()},l(e){t=o(e,"DIV",{class:!0});var a=d(t);s=o(a,"DIV",{class:!0});var l=d(s);i=u(l,"Ce film comporte des images susceptibles de heurter la sensibilité de\r\n          certains spectateurs. Pour cette raison, il est déconseillé aux moins\r\n          de 16 ans."),l.forEach(h),r=m(a),w=o(a,"DIV",{class:!0});var c=d(w);E=o(c,"LABEL",{class:!0});var n=d(E);y=o(n,"INPUT",{id:!0,type:!0,class:!0}),b=m(n),$=o(n,"SPAN",{class:!0}),d($).forEach(h),n.forEach(h),F=m(c),P=o(c,"LABEL",{class:!0,for:!0});var p=d(P);V=u(p,"Je confirme avoir pris connaissance de l'avertissement accompagnant\r\n            la diffusion de ce film."),p.forEach(h),c.forEach(h),I=m(a),q=o(a,"BUTTON",{disabled:!0,class:!0});var f=d(q);C=u(f,"Voir le film"),f.forEach(h),a.forEach(h),this.h()},h(){p(s,"class","restrict-message svelte-y73eq5"),p(y,"id","check"),p(y,"type","checkbox"),p(y,"class","svelte-y73eq5"),p($,"class","checkbox-custom svelte-y73eq5"),p(E,"class","checkbox-container svelte-y73eq5"),p(P,"class","checkbox-label svelte-y73eq5"),p(P,"for","check"),p(w,"class","restrict-agree svelte-y73eq5"),q.disabled=x=!e[2],p(q,"class","svelte-y73eq5"),p(t,"class","restrict svelte-y73eq5"),f(t,"is-pick",e[1])},m(l,c,n){a(l,t,c),v(t,s),v(s,i),v(t,r),v(t,w),v(w,E),v(E,y),y.checked=e[2],v(E,b),v(E,$),v(w,F),v(w,P),v(P,V),v(t,I),v(t,q),v(q,C),n&&g(D),D=[k(y,"change",e[7]),k(q,"click",e[4])]},p(e,s){4&s&&(y.checked=e[2]),4&s&&x!==(x=!e[2])&&(q.disabled=x),2&s&&f(t,"is-pick",e[1])},d(e){e&&h(t),g(D)}}}function R(e){let t,s,r;const c=e[6].default,u=i(c,e,e[5],null);let f=e[0]&&H(e);return{c(){t=l("div"),u&&u.c(),s=n(),f&&f.c(),this.h()},l(e){t=o(e,"DIV",{class:!0});var i=d(t);u&&u.l(i),s=m(i),f&&f.l(i),i.forEach(h),this.h()},h(){p(t,"class","restrict-container svelte-y73eq5")},m(e,i){a(e,t,i),u&&u.m(t,null),v(t,s),f&&f.m(t,null),r=!0},p(e,[s]){u&&u.p&&32&s&&u.p(w(c,e,e[5],null),E(c,e[5],s,null)),e[0]?f?f.p(e,s):((f=H(e)).c(),f.m(t,null)):f&&(f.d(1),f=null)},i(e){r||(y(u,e),r=!0)},o(e){b(u,e),r=!1},d(e){e&&h(t),u&&u.d(e),f&&f.d()}}}function L(e,t,s){let{isRestricted:i=!1}=t,{isPick:r=!1}=t,a=!1,l=!1;let{$$slots:c={},$$scope:n}=t;return e.$set=(e=>{"isRestricted"in e&&s(0,i=e.isRestricted),"isPick"in e&&s(1,r=e.isPick),"$$scope"in e&&s(5,n=e.$$scope)}),[i,r,a,l,function(){s(3,l=!0)},n,c,function(){a=this.checked,s(2,a)}]}class B extends e{constructor(e){super(),t(this,e,L,R,s,{isRestricted:0,isPick:1})}}function S(e,t,s){const i=e.slice();return i[2]=t[s],i}function G(e){let t,s;const i=new B({props:{isRestricted:e[0].restrict,isPick:e[0].isPick,$$slots:{default:[J]},$$scope:{ctx:e}}});return{c(){t=l("div"),$(i.$$.fragment),this.h()},l(e){t=o(e,"DIV",{class:!0});var s=d(t);F(i.$$.fragment,s),s.forEach(h),this.h()},h(){p(t,"class","video-wrapper")},m(e,r){a(e,t,r),P(i,t,null),s=!0},p(e,t){const s={};1&t&&(s.isRestricted=e[0].restrict),1&t&&(s.isPick=e[0].isPick),33&t&&(s.$$scope={dirty:t,ctx:e}),i.$set(s)},i(e){s||(y(i.$$.fragment,e),s=!0)},o(e){b(i.$$.fragment,e),s=!1},d(e){e&&h(t),V(i)}}}function J(e){let t,s,i,r;return{c(){t=l("div"),s=l("iframe"),this.h()},l(e){t=o(e,"DIV",{class:!0});var i=d(t);s=o(i,"IFRAME",{title:!0,sandbox:!0,src:!0,frameborder:!0,allowfullscreen:!0}),d(s).forEach(h),i.forEach(h),this.h()},h(){p(s,"title",i=T(e[0].artFr,e[0].titreFr)),p(s,"sandbox","allow-same-origin allow-scripts allow-popups"),s.src!==(r="https://cinematheque.tube/videos/embed/"+e[0].videoId+"?subtitle=fr&title=0&warningTitle=0")&&p(s,"src",r),p(s,"frameborder","0"),s.allowFullscreen=!0,p(t,"class","video-container")},m(e,i){a(e,t,i),v(t,s)},p(e,t){1&t&&i!==(i=T(e[0].artFr,e[0].titreFr))&&p(s,"title",i),1&t&&s.src!==(r="https://cinematheque.tube/videos/embed/"+e[0].videoId+"?subtitle=fr&title=0&warningTitle=0")&&p(s,"src",r)},d(e){e&&h(t)}}}function O(e){let t,s,i,r=j(e[0].dateUnpublished).format("dddd D MMMM, HH[h]mm")+"";return{c(){t=l("div"),s=c("Film disponible jusqu'au "),i=c(r),this.h()},l(e){t=o(e,"DIV",{class:!0});var a=d(t);s=u(a,"Film disponible jusqu'au "),i=u(a,r),a.forEach(h),this.h()},h(){p(t,"class","end"),f(t,"ispick",e[0].isPick)},m(e,r){a(e,t,r),v(t,s),v(t,i)},p(e,s){1&s&&r!==(r=j(e[0].dateUnpublished).format("dddd D MMMM, HH[h]mm")+"")&&I(i,r),1&s&&f(t,"ispick",e[0].isPick)},d(e){e&&h(t)}}}function z(e){let t,s,i=T(e[0].artVo,e[0].titreVo)+"";return{c(){t=l("div"),s=c(i),this.h()},l(e){t=o(e,"DIV",{class:!0});var r=d(t);s=u(r,i),r.forEach(h),this.h()},h(){p(t,"class","titre-vo colored"),f(t,"ispick",e[0].isPick)},m(e,i){a(e,t,i),v(t,s)},p(e,r){1&r&&i!==(i=T(e[0].artVo,e[0].titreVo)+"")&&I(s,i),1&r&&f(t,"ispick",e[0].isPick)},d(e){e&&h(t)}}}function K(e){let t,s,i,r=e[0].titreNx+"",g=e[0].titreVo&&Q(e);return{c(){t=l("div"),s=c(r),i=n(),g&&g.c(),this.h()},l(e){t=o(e,"DIV",{class:!0});var a=d(t);s=u(a,r),i=m(a),g&&g.l(a),a.forEach(h),this.h()},h(){p(t,"class","titre-vo colored"),f(t,"ispick",e[0].isPick)},m(e,r){a(e,t,r),v(t,s),v(t,i),g&&g.m(t,null)},p(e,i){1&i&&r!==(r=e[0].titreNx+"")&&I(s,r),e[0].titreVo?g?g.p(e,i):((g=Q(e)).c(),g.m(t,null)):g&&(g.d(1),g=null),1&i&&f(t,"ispick",e[0].isPick)},d(e){e&&h(t),g&&g.d()}}}function Q(e){let t,s,i,r=T(e[0].artVo,e[0].titreVo)+"";return{c(){t=c("["),s=c(r),i=c("]")},l(e){t=u(e,"["),s=u(e,r),i=u(e,"]")},m(e,r){a(e,t,r),a(e,s,r),a(e,i,r)},p(e,t){1&t&&r!==(r=T(e[0].artVo,e[0].titreVo)+"")&&I(s,r)},d(e){e&&h(t),e&&h(s),e&&h(i)}}}function W(e){let t,s;return{c(){t=l("img"),this.h()},l(e){t=o(e,"IMG",{height:!0,width:!0,src:!0,alt:!0,title:!0}),this.h()},h(){p(t,"height","12"),p(t,"width","12"),t.src!==(s="wheel.png")&&p(t,"src","wheel.png"),p(t,"alt","CC"),p(t,"title","Play the video then click on the settings wheel to select the\r\n            subtitles")},m(e,s){a(e,t,s)},d(e){e&&h(t)}}}function X(e){let t,s,i=!(!U.isUndefined(e[0].isCatFilm)&&!1===e[0].isCatFilm),r=i&&Y(e),c=e[0].links||[],u=[];for(let t=0;t<c.length;t+=1)u[t]=Z(S(e,c,t));return{c(){t=l("div"),r&&r.c(),s=n();for(let e=0;e<u.length;e+=1)u[e].c()},l(e){t=o(e,"DIV",{});var i=d(t);r&&r.l(i),s=m(i);for(let e=0;e<u.length;e+=1)u[e].l(i);i.forEach(h)},m(e,i){a(e,t,i),r&&r.m(t,null),v(t,s);for(let e=0;e<u.length;e+=1)u[e].m(t,null)},p(e,a){if(1&a&&(i=!(!U.isUndefined(e[0].isCatFilm)&&!1===e[0].isCatFilm)),i?r?r.p(e,a):((r=Y(e)).c(),r.m(t,s)):r&&(r.d(1),r=null),1&a){let s;for(c=e[0].links||[],s=0;s<c.length;s+=1){const i=S(e,c,s);u[s]?u[s].p(i,a):(u[s]=Z(i),u[s].c(),u[s].m(t,null))}for(;s<u.length;s+=1)u[s].d(1);u.length=c.length}},d(e){e&&h(t),r&&r.d(),C(u,e)}}}function Y(e){let t,s,i,r,n,m=T(e[0].artFr,e[0].titreFr)+"";return{c(){t=l("a"),s=c("Plus de détails sur « "),i=c(m),r=c(" »\r\n              sur le Catalogue des restaurations et tirages de la Cinémathèque\r\n              française"),this.h()},l(e){t=o(e,"A",{class:!0,href:!0});var a=d(t);s=u(a,"Plus de détails sur « "),i=u(a,m),r=u(a," »\r\n              sur le Catalogue des restaurations et tirages de la Cinémathèque\r\n              française"),a.forEach(h),this.h()},h(){p(t,"class","catfilm colored"),p(t,"href",n="https://www.cinematheque.fr/catalogues/restaurations-tirages/film.php?id="+e[0].pk),f(t,"ispick",e[0].isPick)},m(e,l){a(e,t,l),v(t,s),v(t,i),v(t,r)},p(e,s){1&s&&m!==(m=T(e[0].artFr,e[0].titreFr)+"")&&I(i,m),1&s&&n!==(n="https://www.cinematheque.fr/catalogues/restaurations-tirages/film.php?id="+e[0].pk)&&p(t,"href",n),1&s&&f(t,"ispick",e[0].isPick)},d(e){e&&h(t)}}}function Z(e){let t,s,i,r,c=e[2].text+"";return{c(){t=l("a"),i=n(),this.h()},l(e){t=o(e,"A",{class:!0,href:!0});var s=d(t);i=m(s),s.forEach(h),this.h()},h(){s=new q(c,i),p(t,"class","catfilm colored"),p(t,"href",r=e[2].url),f(t,"ispick",e[0].isPick)},m(e,r){a(e,t,r),s.m(t),v(t,i)},p(e,i){1&i&&c!==(c=e[2].text+"")&&s.p(c),1&i&&r!==(r=e[2].url)&&p(t,"href",r),1&i&&f(t,"ispick",e[0].isPick)},d(e){e&&h(t)}}}function _(e){let t,s,i,r,g,k,w,E,$,F,P,V,C,j,H,N,R,L,B,S,J,Q,Y,Z,_,ee,te,se,ie,re,ae,le,ce,ne,oe,de,ue,he,me,pe,fe,ve,ge,ke,we,Ee,ye,be,$e,Fe=e[0].collection+"",Pe=`${T(e[0].artFr,e[0].titreFr)}${A('<div class="sous-titre-fr">',"</div>",e[0].sousTitreFr)}`+"",Ve=e[0].realisateurs+"",Ie=A(""," / ",e[0].pays)+"",qe=e[0].annee+"",Ce=e[0].duree+"",xe=A(" / ","",e[0].version)+"",De=A("<div>","</div>",e[0].adaptation)+"",Me=A("<div>Avec ",".</div>",e[0].interpretation)+"",Te=A('<div class="rem">',"</div>",e[0].remarque)+"",Ae=A('<div class="synopsis">',"</div>",e[0].synopsis)+"",Ue=A("<div>","</div>",e[0].restauration)+"",je=A("<hr><div>","</div>",e[0].comment)+"",He=!(!U.isUndefined(e[0].isCatFilm)&&!1===e[0].isCatFilm)||e[0].links;document.title=P="\r\n    "+T(e[0].artFr,e[0].titreFr)+" ("+e[0].realisateurs+", "+e[0].annee+") -\r\n    HENRI - La Cinémathèque française\r\n  ";let Ne=e[0].videoId&&G(e),Re=e[0].dateUnpublished&&O(e);function Le(e,t){return e[0].titreNx?K:e[0].titreVo?z:void 0}let Be=Le(e),Se=Be&&Be(e),Ge=e[0].isCC&&W(),Je=He&&X(e);return{c(){t=l("meta"),s=l("meta"),r=l("meta"),k=l("meta"),E=l("meta"),$=l("meta"),F=l("meta"),V=n(),C=l("section"),j=l("div"),Ne&&Ne.c(),H=n(),N=l("article"),Re&&Re.c(),R=n(),L=l("div"),B=l("div"),S=c(Fe),J=n(),Q=l("div"),Y=l("h1"),Z=n(),Se&&Se.c(),_=n(),ee=l("div"),te=c(Ve),se=n(),ie=l("div"),re=c(Ie),ae=c(qe),le=c(" / "),ce=c(Ce),ne=c(xe),oe=n(),Ge&&Ge.c(),de=n(),he=n(),pe=n(),ve=n(),ke=n(),Ee=n(),be=n(),Je&&Je.c(),this.h()},l(e){const i=x('[data-svelte="svelte-ghaj6h"]',document.head);t=o(i,"META",{property:!0,content:!0}),s=o(i,"META",{property:!0,content:!0}),r=o(i,"META",{property:!0,content:!0}),k=o(i,"META",{property:!0,content:!0}),E=o(i,"META",{property:!0,content:!0}),$=o(i,"META",{property:!0,content:!0}),F=o(i,"META",{property:!0,content:!0}),i.forEach(h),V=m(e),C=o(e,"SECTION",{class:!0});var a=d(C);j=o(a,"DIV",{class:!0});var l=d(j);Ne&&Ne.l(l),H=m(l),N=o(l,"ARTICLE",{});var c=d(N);Re&&Re.l(c),R=m(c),L=o(c,"DIV",{});var n=d(L);B=o(n,"DIV",{class:!0});var p=d(B);S=u(p,Fe),p.forEach(h),n.forEach(h),J=m(c),Q=o(c,"DIV",{class:!0});var f=d(Q);Y=o(f,"H1",{class:!0}),d(Y).forEach(h),Z=m(f),Se&&Se.l(f),f.forEach(h),_=m(c),ee=o(c,"DIV",{class:!0});var v=d(ee);te=u(v,Ve),v.forEach(h),se=m(c),ie=o(c,"DIV",{});var g=d(ie);re=u(g,Ie),ae=u(g,qe),le=u(g," / "),ce=u(g,Ce),ne=u(g,xe),oe=m(g),Ge&&Ge.l(g),g.forEach(h),de=m(c),he=m(c),pe=m(c),ve=m(c),ke=m(c),Ee=m(c),be=m(c),Je&&Je.l(c),c.forEach(h),l.forEach(h),a.forEach(h),this.h()},h(){p(t,"property","og:title"),p(t,"content",e[1]),p(s,"property","og:url"),p(s,"content",i="https://www.cinematheque.fr/henri/film/"+e[0].slug+"/"),p(r,"property","og:description"),p(r,"content",g=e[0].synopsis),p(k,"property","og:image"),p(k,"content",w=U.isUndefined(e[0].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${e[0].pk}-1.jpg`:`${e[0].thumb}`),p(E,"property","og:image:type"),p(E,"content","image/jpeg"),p($,"property","og:image:width"),p($,"content","533"),p(F,"property","og:image:height"),p(F,"content","400"),p(B,"class","collection"),f(B,"ispick",e[0].isPick),p(Y,"class","colored"),f(Y,"ispick",e[0].isPick),p(Q,"class","titre-film"),p(ee,"class","realisateurs"),ue=new q(De,he),me=new q(Me,pe),fe=new q(Te,ve),ge=new q(Ae,ke),we=new q(Ue,Ee),ye=new q(je,be),p(j,"class","container"),p(C,"class","film-page")},m(e,i){v(document.head,t),v(document.head,s),v(document.head,r),v(document.head,k),v(document.head,E),v(document.head,$),v(document.head,F),a(e,V,i),a(e,C,i),v(C,j),Ne&&Ne.m(j,null),v(j,H),v(j,N),Re&&Re.m(N,null),v(N,R),v(N,L),v(L,B),v(B,S),v(N,J),v(N,Q),v(Q,Y),Y.innerHTML=Pe,v(Q,Z),Se&&Se.m(Q,null),v(N,_),v(N,ee),v(ee,te),v(N,se),v(N,ie),v(ie,re),v(ie,ae),v(ie,le),v(ie,ce),v(ie,ne),v(ie,oe),Ge&&Ge.m(ie,null),v(N,de),ue.m(N),v(N,he),me.m(N),v(N,pe),fe.m(N),v(N,ve),ge.m(N),v(N,ke),we.m(N),v(N,Ee),ye.m(N),v(N,be),Je&&Je.m(N,null),$e=!0},p(e,[t]){(!$e||1&t&&i!==(i="https://www.cinematheque.fr/henri/film/"+e[0].slug+"/"))&&p(s,"content",i),(!$e||1&t&&g!==(g=e[0].synopsis))&&p(r,"content",g),(!$e||1&t&&w!==(w=U.isUndefined(e[0].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${e[0].pk}-1.jpg`:`${e[0].thumb}`))&&p(k,"content",w),(!$e||1&t)&&P!==(P="\r\n    "+T(e[0].artFr,e[0].titreFr)+" ("+e[0].realisateurs+", "+e[0].annee+") -\r\n    HENRI - La Cinémathèque française\r\n  ")&&(document.title=P),e[0].videoId?Ne?(Ne.p(e,t),y(Ne,1)):((Ne=G(e)).c(),y(Ne,1),Ne.m(j,H)):Ne&&(M(),b(Ne,1,1,()=>{Ne=null}),D()),e[0].dateUnpublished?Re?Re.p(e,t):((Re=O(e)).c(),Re.m(N,R)):Re&&(Re.d(1),Re=null),(!$e||1&t)&&Fe!==(Fe=e[0].collection+"")&&I(S,Fe),1&t&&f(B,"ispick",e[0].isPick),(!$e||1&t)&&Pe!==(Pe=`${T(e[0].artFr,e[0].titreFr)}${A('<div class="sous-titre-fr">',"</div>",e[0].sousTitreFr)}`+"")&&(Y.innerHTML=Pe),1&t&&f(Y,"ispick",e[0].isPick),Be===(Be=Le(e))&&Se?Se.p(e,t):(Se&&Se.d(1),(Se=Be&&Be(e))&&(Se.c(),Se.m(Q,null))),(!$e||1&t)&&Ve!==(Ve=e[0].realisateurs+"")&&I(te,Ve),(!$e||1&t)&&Ie!==(Ie=A(""," / ",e[0].pays)+"")&&I(re,Ie),(!$e||1&t)&&qe!==(qe=e[0].annee+"")&&I(ae,qe),(!$e||1&t)&&Ce!==(Ce=e[0].duree+"")&&I(ce,Ce),(!$e||1&t)&&xe!==(xe=A(" / ","",e[0].version)+"")&&I(ne,xe),e[0].isCC?Ge||((Ge=W()).c(),Ge.m(ie,null)):Ge&&(Ge.d(1),Ge=null),(!$e||1&t)&&De!==(De=A("<div>","</div>",e[0].adaptation)+"")&&ue.p(De),(!$e||1&t)&&Me!==(Me=A("<div>Avec ",".</div>",e[0].interpretation)+"")&&me.p(Me),(!$e||1&t)&&Te!==(Te=A('<div class="rem">',"</div>",e[0].remarque)+"")&&fe.p(Te),(!$e||1&t)&&Ae!==(Ae=A('<div class="synopsis">',"</div>",e[0].synopsis)+"")&&ge.p(Ae),(!$e||1&t)&&Ue!==(Ue=A("<div>","</div>",e[0].restauration)+"")&&we.p(Ue),(!$e||1&t)&&je!==(je=A("<hr><div>","</div>",e[0].comment)+"")&&ye.p(je),1&t&&(He=!(!U.isUndefined(e[0].isCatFilm)&&!1===e[0].isCatFilm)||e[0].links),He?Je?Je.p(e,t):((Je=X(e)).c(),Je.m(N,null)):Je&&(Je.d(1),Je=null)},i(e){$e||(y(Ne),$e=!0)},o(e){b(Ne),$e=!1},d(e){h(t),h(s),h(r),h(k),h(E),h($),h(F),e&&h(V),e&&h(C),Ne&&Ne.d(),Re&&Re.d(),Se&&Se.d(),Ge&&Ge.d(),Je&&Je.d()}}}async function ee({params:e,query:t}){const s=await this.fetch(`film/${e.slug}.json`),i=await s.json();if(200===s.status)return{film:i};this.error(s.status,i.message)}function te(e,t,s){j.locale("fr");let{film:i}=t;const r=`${T(i.artFr,i.titreFr)} (${i.realisateurs}, ${i.annee}) à voir en ligne sur HENRI, la plateforme de nos collections films`;return e.$set=(e=>{"film"in e&&s(0,i=e.film)}),[i,r]}export default class extends e{constructor(e){super(),t(this,e,te,_,s,{film:0})}}export{ee as preload};
