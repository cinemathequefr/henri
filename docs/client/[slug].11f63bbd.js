import{S as t,i as e,s as i,e as s,c as r,d as a,f as n,j as l,k as c,l as o,t as d,h,y as u,o as m,b as p,g as f,H as v,q as g,n as w,m as k}from"./client.1cd5bc98.js";import{f as E,a as F,_ as y,d as b}from"./format.a6af0c31.js";function I(t,e,i){const s=t.slice();return s[2]=e[i],s}function V(t){let e,i,d,h,u;return{c(){e=s("div"),i=s("div"),d=s("iframe"),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=r(s,"DIV",{class:!0});var l=a(i);d=r(l,"IFRAME",{title:!0,sandbox:!0,src:!0,frameborder:!0,allowfullscreen:!0}),a(d).forEach(n),l.forEach(n),s.forEach(n),this.h()},h(){l(d,"title",h=E(t[0].artFr,t[0].titreFr)),l(d,"sandbox","allow-same-origin allow-scripts allow-popups"),d.src!==(u="https://cinematheque.tube/videos/embed/"+t[0].videoId+"?title=0&warningTitle=0")&&l(d,"src",u),l(d,"frameborder","0"),d.allowFullscreen=!0,l(i,"class","video-container"),l(e,"class","video-wrapper")},m(t,s){c(t,e,s),o(e,i),o(i,d)},p(t,e){1&e&&h!==(h=E(t[0].artFr,t[0].titreFr))&&l(d,"title",h),1&e&&d.src!==(u="https://cinematheque.tube/videos/embed/"+t[0].videoId+"?title=0&warningTitle=0")&&l(d,"src",u)},d(t){t&&n(e)}}}function q(t){let e,i,p,f=b(t[0].dateUnpublished).format("dddd D MMM, HH[h]mm")+"";return{c(){e=s("div"),i=d("Film disponible jusqu'au "),p=d(f),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=h(s,"Film disponible jusqu'au "),p=h(s,f),s.forEach(n),this.h()},h(){l(e,"class","end"),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i),o(e,p)},p(t,i){1&i&&f!==(f=b(t[0].dateUnpublished).format("dddd D MMM, HH[h]mm")+"")&&m(p,f),1&i&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function C(t){let e,i,p=E(t[0].artVo,t[0].titreVo)+"";return{c(){e=s("div"),i=d(p),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=h(s,p),s.forEach(n),this.h()},h(){l(e,"class","titre-vo colored"),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i)},p(t,s){1&s&&p!==(p=E(t[0].artVo,t[0].titreVo)+"")&&m(i,p),1&s&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function M(t){let e,i,v,g=t[0].titreNx+"",w=t[0].titreVo&&P(t);return{c(){e=s("div"),i=d(g),v=p(),w&&w.c(),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=a(e);i=h(s,g),v=f(s),w&&w.l(s),s.forEach(n),this.h()},h(){l(e,"class","titre-vo colored"),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i),o(e,v),w&&w.m(e,null)},p(t,s){1&s&&g!==(g=t[0].titreNx+"")&&m(i,g),t[0].titreVo?w?w.p(t,s):((w=P(t)).c(),w.m(e,null)):w&&(w.d(1),w=null),1&s&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e),w&&w.d()}}}function P(t){let e,i,s,r=E(t[0].artVo,t[0].titreVo)+"";return{c(){e=d("["),i=d(r),s=d("]")},l(t){e=h(t,"["),i=h(t,r),s=h(t,"]")},m(t,r){c(t,e,r),c(t,i,r),c(t,s,r)},p(t,e){1&e&&r!==(r=E(t[0].artVo,t[0].titreVo)+"")&&m(i,r)},d(t){t&&n(e),t&&n(i),t&&n(s)}}}function T(t){let e,i;return{c(){e=s("img"),this.h()},l(t){e=r(t,"IMG",{height:!0,width:!0,src:!0,alt:!0,title:!0}),this.h()},h(){l(e,"height","12"),l(e,"width","12"),e.src!==(i="wheel.png")&&l(e,"src","wheel.png"),l(e,"alt","CC"),l(e,"title","Play the video then click on the settings wheel to select the\r\n            subtitles")},m(t,i){c(t,e,i)},d(t){t&&n(e)}}}function A(t){let e,i,p,f,v,g=E(t[0].artFr,t[0].titreFr)+"";return{c(){e=s("a"),i=d("Plus de détails sur « "),p=d(g),f=d(" »\r\n          sur le Catalogue des restaurations et tirages de la Cinémathèque\r\n          française"),this.h()},l(t){e=r(t,"A",{class:!0,href:!0});var s=a(e);i=h(s,"Plus de détails sur « "),p=h(s,g),f=h(s," »\r\n          sur le Catalogue des restaurations et tirages de la Cinémathèque\r\n          française"),s.forEach(n),this.h()},h(){l(e,"class","catfilm colored"),l(e,"href",v="https://www.cinematheque.fr/catalogues/restaurations-tirages/film.php?id="+t[0].pk),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),o(e,i),o(e,p),o(e,f)},p(t,i){1&i&&g!==(g=E(t[0].artFr,t[0].titreFr)+"")&&m(p,g),1&i&&v!==(v="https://www.cinematheque.fr/catalogues/restaurations-tirages/film.php?id="+t[0].pk)&&l(e,"href",v),1&i&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function $(t){let e,i,d,h,m=t[2].text+"";return{c(){e=s("a"),d=p(),this.h()},l(t){e=r(t,"A",{class:!0,href:!0});var i=a(e);d=f(i),i.forEach(n),this.h()},h(){i=new v(m,d),l(e,"class","catfilm colored"),l(e,"href",h=t[2].url),u(e,"ispick",t[0].isPick)},m(t,s){c(t,e,s),i.m(e),o(e,d)},p(t,s){1&s&&m!==(m=t[2].text+"")&&i.p(m),1&s&&h!==(h=t[2].url)&&l(e,"href",h),1&s&&u(e,"ispick",t[0].isPick)},d(t){t&&n(e)}}}function x(t){let e,i,b,P,x,j,D,H,U,N,L,R,S,G,O,z,B,J,K,Q,W,X,Y,Z,_,tt,et,it,st,rt,at,nt,lt,ct,ot,dt,ht,ut,mt,pt,ft,vt,gt,wt,kt,Et=`${E(t[0].artFr,t[0].titreFr)}${F('<div class="sous-titre-fr">',"</div>",t[0].sousTitreFr)}`+"",Ft=t[0].realisateurs+"",yt=F(""," / ",t[0].pays)+"",bt=t[0].annee+"",It=t[0].duree+"",Vt=F(" / ","",t[0].version)+"",qt=F("<div>","</div>",t[0].adaptation)+"",Ct=F("<div>Avec ",".</div>",t[0].interpretation)+"",Mt=F('<div class="rem">',"</div>",t[0].remarque)+"",Pt=F('<div class="synopsis">',"</div>",t[0].synopsis)+"",Tt=F("<div>","</div>",t[0].restauration)+"",At=F("<hr><div>","</div>",t[0].comment)+"",$t=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm);document.title=L="\r\n    "+E(t[0].artFr,t[0].titreFr)+" ("+t[0].realisateurs+", "+t[0].annee+") -\r\n    HENRI - La Cinémathèque française\r\n  ";let xt=t[0].videoId&&V(t),jt=t[0].dateUnpublished&&q(t);function Dt(t,e){return t[0].titreNx?M:t[0].titreVo?C:void 0}let Ht=Dt(t),Ut=Ht&&Ht(t),Nt=t[0].isCC&&T(),Lt=$t&&A(t),Rt=t[0].links||[],St=[];for(let e=0;e<Rt.length;e+=1)St[e]=$(I(t,Rt,e));return{c(){e=s("meta"),i=s("meta"),P=s("meta"),j=s("meta"),H=s("meta"),U=s("meta"),N=s("meta"),R=p(),S=s("section"),G=s("div"),xt&&xt.c(),O=p(),z=s("article"),jt&&jt.c(),B=p(),J=s("div"),K=s("h1"),Q=p(),Ut&&Ut.c(),W=p(),X=s("div"),Y=d(Ft),Z=p(),_=s("div"),tt=d(yt),et=d(bt),it=d(" / "),st=d(It),rt=d(Vt),at=p(),Nt&&Nt.c(),nt=p(),ct=p(),dt=p(),ut=p(),pt=p(),vt=p(),wt=p(),Lt&&Lt.c(),kt=p();for(let t=0;t<St.length;t+=1)St[t].c();this.h()},l(t){const s=g('[data-svelte="svelte-ghaj6h"]',document.head);e=r(s,"META",{property:!0,content:!0}),i=r(s,"META",{property:!0,content:!0}),P=r(s,"META",{property:!0,content:!0}),j=r(s,"META",{property:!0,content:!0}),H=r(s,"META",{property:!0,content:!0}),U=r(s,"META",{property:!0,content:!0}),N=r(s,"META",{property:!0,content:!0}),s.forEach(n),R=f(t),S=r(t,"SECTION",{class:!0});var l=a(S);G=r(l,"DIV",{class:!0});var c=a(G);xt&&xt.l(c),O=f(c),z=r(c,"ARTICLE",{});var o=a(z);jt&&jt.l(o),B=f(o),J=r(o,"DIV",{class:!0});var d=a(J);K=r(d,"H1",{class:!0}),a(K).forEach(n),Q=f(d),Ut&&Ut.l(d),d.forEach(n),W=f(o),X=r(o,"DIV",{class:!0});var u=a(X);Y=h(u,Ft),u.forEach(n),Z=f(o),_=r(o,"DIV",{});var m=a(_);tt=h(m,yt),et=h(m,bt),it=h(m," / "),st=h(m,It),rt=h(m,Vt),at=f(m),Nt&&Nt.l(m),m.forEach(n),nt=f(o),ct=f(o),dt=f(o),ut=f(o),pt=f(o),vt=f(o),wt=f(o),Lt&&Lt.l(o),kt=f(o);for(let t=0;t<St.length;t+=1)St[t].l(o);o.forEach(n),c.forEach(n),l.forEach(n),this.h()},h(){l(e,"property","og:title"),l(e,"content",t[1]),l(i,"property","og:url"),l(i,"content",b="https://www.cinematheque.fr/henri/film/"+t[0].slug+"/"),l(P,"property","og:description"),l(P,"content",x=t[0].synopsis),l(j,"property","og:image"),l(j,"content",D=y.isUndefined(t[0].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${t[0].pk}-1.jpg`:`${t[0].thumb}`),l(H,"property","og:image:type"),l(H,"content","image/jpeg"),l(U,"property","og:image:width"),l(U,"content","533"),l(N,"property","og:image:height"),l(N,"content","400"),l(K,"class","colored"),u(K,"ispick",t[0].isPick),l(J,"class","titre-film"),l(X,"class","realisateurs"),lt=new v(qt,ct),ot=new v(Ct,dt),ht=new v(Mt,ut),mt=new v(Pt,pt),ft=new v(Tt,vt),gt=new v(At,wt),l(G,"class","container"),l(S,"class","film-page")},m(t,s){o(document.head,e),o(document.head,i),o(document.head,P),o(document.head,j),o(document.head,H),o(document.head,U),o(document.head,N),c(t,R,s),c(t,S,s),o(S,G),xt&&xt.m(G,null),o(G,O),o(G,z),jt&&jt.m(z,null),o(z,B),o(z,J),o(J,K),K.innerHTML=Et,o(J,Q),Ut&&Ut.m(J,null),o(z,W),o(z,X),o(X,Y),o(z,Z),o(z,_),o(_,tt),o(_,et),o(_,it),o(_,st),o(_,rt),o(_,at),Nt&&Nt.m(_,null),o(z,nt),lt.m(z),o(z,ct),ot.m(z),o(z,dt),ht.m(z),o(z,ut),mt.m(z),o(z,pt),ft.m(z),o(z,vt),gt.m(z),o(z,wt),Lt&&Lt.m(z,null),o(z,kt);for(let t=0;t<St.length;t+=1)St[t].m(z,null)},p(t,[e]){if(1&e&&b!==(b="https://www.cinematheque.fr/henri/film/"+t[0].slug+"/")&&l(i,"content",b),1&e&&x!==(x=t[0].synopsis)&&l(P,"content",x),1&e&&D!==(D=y.isUndefined(t[0].thumb)?`https://www.cinematheque.fr/catalogues/restaurations-tirages-images/images/film/533x400/${t[0].pk}-1.jpg`:`${t[0].thumb}`)&&l(j,"content",D),1&e&&L!==(L="\r\n    "+E(t[0].artFr,t[0].titreFr)+" ("+t[0].realisateurs+", "+t[0].annee+") -\r\n    HENRI - La Cinémathèque française\r\n  ")&&(document.title=L),t[0].videoId?xt?xt.p(t,e):((xt=V(t)).c(),xt.m(G,O)):xt&&(xt.d(1),xt=null),t[0].dateUnpublished?jt?jt.p(t,e):((jt=q(t)).c(),jt.m(z,B)):jt&&(jt.d(1),jt=null),1&e&&Et!==(Et=`${E(t[0].artFr,t[0].titreFr)}${F('<div class="sous-titre-fr">',"</div>",t[0].sousTitreFr)}`+"")&&(K.innerHTML=Et),1&e&&u(K,"ispick",t[0].isPick),Ht===(Ht=Dt(t))&&Ut?Ut.p(t,e):(Ut&&Ut.d(1),(Ut=Ht&&Ht(t))&&(Ut.c(),Ut.m(J,null))),1&e&&Ft!==(Ft=t[0].realisateurs+"")&&m(Y,Ft),1&e&&yt!==(yt=F(""," / ",t[0].pays)+"")&&m(tt,yt),1&e&&bt!==(bt=t[0].annee+"")&&m(et,bt),1&e&&It!==(It=t[0].duree+"")&&m(st,It),1&e&&Vt!==(Vt=F(" / ","",t[0].version)+"")&&m(rt,Vt),t[0].isCC?Nt||((Nt=T()).c(),Nt.m(_,null)):Nt&&(Nt.d(1),Nt=null),1&e&&qt!==(qt=F("<div>","</div>",t[0].adaptation)+"")&&lt.p(qt),1&e&&Ct!==(Ct=F("<div>Avec ",".</div>",t[0].interpretation)+"")&&ot.p(Ct),1&e&&Mt!==(Mt=F('<div class="rem">',"</div>",t[0].remarque)+"")&&ht.p(Mt),1&e&&Pt!==(Pt=F('<div class="synopsis">',"</div>",t[0].synopsis)+"")&&mt.p(Pt),1&e&&Tt!==(Tt=F("<div>","</div>",t[0].restauration)+"")&&ft.p(Tt),1&e&&At!==(At=F("<hr><div>","</div>",t[0].comment)+"")&&gt.p(At),1&e&&($t=!(!y.isUndefined(t[0].isCatFilm)&&!1===t[0].isCatFilm)),$t?Lt?Lt.p(t,e):((Lt=A(t)).c(),Lt.m(z,kt)):Lt&&(Lt.d(1),Lt=null),1&e){let i;for(Rt=t[0].links||[],i=0;i<Rt.length;i+=1){const s=I(t,Rt,i);St[i]?St[i].p(s,e):(St[i]=$(s),St[i].c(),St[i].m(z,null))}for(;i<St.length;i+=1)St[i].d(1);St.length=Rt.length}},i:w,o:w,d(t){n(e),n(i),n(P),n(j),n(H),n(U),n(N),t&&n(R),t&&n(S),xt&&xt.d(),jt&&jt.d(),Ut&&Ut.d(),Nt&&Nt.d(),Lt&&Lt.d(),k(St,t)}}}async function j({params:t,query:e}){const i=await this.fetch(`film/${t.slug}.json`),s=await i.json();if(200===i.status)return{film:s};this.error(i.status,s.message)}function D(t,e,i){b.locale("fr");let{film:s}=e;const r=`${E(s.artFr,s.titreFr)} (${s.realisateurs}, ${s.annee}) à voir en ligne sur HENRI, la plateforme de nos collections films`;return t.$set=(t=>{"film"in t&&i(0,s=t.film)}),[s,r]}export default class extends t{constructor(t){super(),e(this,t,D,x,i,{film:0})}}export{j as preload};
